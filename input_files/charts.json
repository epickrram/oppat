{
  "chart_use_default":"y",
  "pixels_high_default":250,
  "drop_event_if_samples_exceed":470000,
  "dont_show_events_on_cpu_busy_if_samples_exceed":500000,
  "chart_category_priority":[
	{"name":"PERF",    "priority":0},
	{"name":"UI",      "priority":100},
	{"name":"power",   "priority":200},
	{"name":"CPU",     "priority":300},
	{"name":"GPU",     "priority":400},
	{"name":"thermal", "priority":500},
	{"name":"DRAM",    "priority":600},
	{"name":"Disk",    "priority":700},
	{"name":"Network", "priority":800},
	{"name":"Test",    "priority":10000}
	], "comment":"chart_category_priority defines grouping names for charts and priority (order) of charts",
  "event_aliases": [
	 {"evt_name":"CYCLES_EVENT", "arch":"Intel", "aliases":["cycles", "cpu_clk_unhalted.thread", "r0200", "r3c"]}
	,{"evt_name":"CYCLES_EVENT", "arch":"ARM",   "aliases":["cycles", "r11", "cpu_cycles"]}
	,{"evt_name":"INST_EVENT", "arch":"Intel", "aliases":["instructions", "rc0"]}
	,{"evt_name":"INST_EVENT", "arch":"ARM",   "aliases":["instructions", "r08", "inst_retired"]}
	,{"evt_name":"REF_CYCLES_EVENT", "arch":"Intel", "aliases":["ref-cycles","r0300"]}
  ],
  "macro_event_array": [
  {"substitute":{"old":"%PORTNUM%", "new":["port_0", "port_1", "port_2", "port_3", "port_4", "port_5", "port_6", "port_7"]},
	"target": {"event":
	{
	"evt_name": "bill_uops_ps_%PORTNUM%", "evt_type": "ftrace", "arch":"Intel", "comment":"bill uops per sec for uops_dispatched_port.%PORTNUM%",
	"evt_derived":{
		"evts_tags":[ {"evt":"cpu-clock", "tag":"den"}, {"evt":"uops_dispatched_port.%PORTNUM%", "tag":"num"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",   "lkup": "numerator",   "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"denominator", "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",        "lkup": "area",         "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"UOPS/nsec %PORTNUM%",  "var_name": "val", "by_var": "area", "tot_line":"__total__",
			"tot_line_options":{"xform":"map_cpu_2_core", "yval_fmt":"%.2f", "yvar_fmt":"core%d",
			"scope":["per_thread","per_core"],
			"desc":"Based on uops/nanosec: uops_dispatched_port.%PORTNUM%/nsec"},
			"chart_tag":"GUOPS_%PORTNUM%_CHART", "chart_type":"line", "use_chart":"y", "y_label":"uop_%PORTNUM%/nsec"}
		]
	}
	}
  }
  ,{"substitute":{"old":"%PORTNUM%", "new":["port_0", "port_1", "port_2", "port_3", "port_4", "port_5", "port_6", "port_7"]},
	"target": {"event":
	{
	"evt_name": "uops_%PORTNUM%_per_cycle", "evt_type": "ftrace", "arch":"Intel", "comment":"uops_dispatched_port.%PORTNUM% per cycle",
	"evt_derived":{
		"evts_tags":[ {"evt":"CYCLES_EVENT", "tag":"den"}, {"evt":"uops_dispatched_port.%PORTNUM%", "tag":"num"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"drop_if_gt", "val":888}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"uops %PORTNUM%/cycle",  "var_name": "val", "by_var": "area", "tot_line":"__total__",
			"tot_line_options":{"xform":"map_cpu_2_core", "yval_fmt":"%.2f", "yvar_fmt":"core%d",
			"scope":["per_thread","per_core"],
			"desc":"Based on uops_dispatched_port.%PORTNUM%/cycle"},
			"chart_tag":"UOPS_%PORTNUM%_PER_CYCLE_CHART", "chart_type":"line", "use_chart":"y", "y_label":"uops_%PORTNUM%/cycle"}
		]
	}
  }
  }
  ],
  "include_event_array": [
  	{"chart_file":"charts_arm_cortex_a53.json"}
  ],
  "event_array": [
  {"event":
	{
	"evt_name": "sched:sched_switch", "evt_type": "ftrace", "comment":"this event has to be 1st",
	"evt_flds": [
		{"name":"cpu",   "lkup": "", "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"proc",  "lkup": "", "lkup_typ": "TYP_COMM_PID_TID|TYP_STR"},
		{"name":"pid",   "lkup": "", "lkup_typ": "TYP_PID|TYP_INT"},
		{"name":"dura",      "lkup": "", "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_DURATION_BEF|TYP_DBL"},
		{"name":"cpu_busy",  "lkup": "", "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_DBL"},
		{"name":"%busy_sys", "lkup": "", "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_DIV_BY_INTERVAL|TYP_EXCL_PID_0|TYP_DBL",
			"actions":[{"oper":"mult", "val":100.0}]}
		],
	"charts": [
		{"category":"CPU", "title":"cpu busy",  "var_name": "cpu_busy", "by_var": "cpu", "chart_tag":"PCT_BUSY_BY_CPU",
			"chart_type":"block", "use_chart":"y"},
		{"category":"CPU", "title":"%busy system",  "var_name": "%busy_sys", "by_var":"proc", "chart_tag":"PCT_BUSY_BY_SYSTEM",
			"chart_type":"line", "use_chart":"y", "y_fmt":"%.1f%%", "tot_line":"__total__",
			"tot_line_options":{"yval_fmt":"%.1f%%", "yvar_fmt":"%system_busy",
			"desc":"Based on non-idle sched_switch ftrace event. 100% means 1 cpu is busy, 400% means 4 cpus busy, etc."}
		}
		]
	}
  },
  {"event":
	{
	"evt_name": "lua:gb_phase", "evt_type": "lua", "comment":"geekbench4 phase",
	"evt_flds": [
		{"name":"timestamp", "lkup":"_TIMESTAMP_", "lkup_typ": "TYP_TIMESTAMP|TYP_DBL"},
		{"name":"extra_str", "lkup":"extra_str",   "lkup_typ": "TYP_STR"},
		{"name":"marker",   "lkup":"marker",       "lkup_typ": "TYP_DBL"},
		{"name":"area",     "lkup":"area",         "lkup_typ": "TYP_STR"},
		{"name":"dura",     "lkup":"_DURATION_",   "lkup_typ": "TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"PERF", "title":"Markers",  "var_name":"marker",
			"chart_tag":"PHASE", "chart_type":"line", "marker":{"type":"square", "size":"10", "connect":"y"},
			"use_chart":"y", "y_label":"markers"}
		]
	}
  },
  {"event":
	{
	"evt_name": "ftrace:print", "evt_type": "ftrace",
	"evt_flds": [
		{"name":"marker",  "lkup": "", "lkup_typ": "TYP_ADD_2_EXTRA|TYP_STR"},
		{"name":"dura",  "lkup": "", "lkup_typ": "TYP_DURATION_BEF|TYP_DBL", "actions":[{"oper":"replace_any", "val":1.0e-6}]}
		],
	"charts": [
		{"category":"PERF", "title":"Markers",  "var_name":"marker",
			"chart_tag":"MARKERS", "chart_type":"line", "marker":{"type":"square", "size":"10", "connect":"y"},
			"use_chart":"y", "y_label":"markers"}
		]
	}
  },
  {"event":
	{
	"evt_name": "sched:sched_switch", "evt_type": "ftrace",
	"evt_flds": [
		{"name":"ncomm", "lkup":"next_comm", "lkup_typ": "TYP_TRC_BIN|TYP_STR"},
		{"name":"npid",  "lkup":"next_pid", "lkup_typ": "TYP_TRC_BIN|TYP_INT"},
		{"name":"nproc", "lkup":"", "lkup_typ": "TYP_BY_VAR0|TYP_STR", "mk_proc_from_comm_tid_flds":{"comm":"ncomm", "tid":"npid"}},
		{"name":"state", "lkup":"prev_state=", "lkup_typ": "TYP_STR|TYP_TRC_FLD_PFX|TYP_CSW_STATE", "lkup_dlm_str":" ==> "},
		{"name":"cpu",   "lkup": "",     "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"ocomm", "lkup":"prev_comm", "lkup_typ": "TYP_TRC_BIN|TYP_STR"},
		{"name":"opid",  "lkup":"prev_pid", "lkup_typ": "TYP_TRC_BIN|TYP_INT"},
		{"name":"oproc", "lkup":"", "lkup_typ": "TYP_BY_VAR1|TYP_STR", "mk_proc_from_comm_tid_flds":{"comm":"ocomm", "tid":"opid"}},
		{"name":"wait_dura","lkup":"",   "lkup_typ": "TYP_DURATION_BEF|TYP_DBL", "diff_ts_with_ts_of_prev_by_var_using_fld":"oproc"}
		],
	"charts": [
		{"category":"CPU", "title":"wait time by thread",  "var_name": "wait_dura", "by_var":"nproc",
			"chart_tag":"WAIT_TIME_BY_proc", "chart_type":"line", "use_chart":"n"}
		]
	}
  },
  {"event":
	{
	"evt_name": "sched:sched_switch", "evt_type": "ftrace",
	"evt_flds": [
		{"name":"ncomm", "lkup":"next_comm", "lkup_typ": "TYP_TRC_BIN|TYP_STR"},
		{"name":"npid",  "lkup":"next_pid", "lkup_typ": "TYP_TRC_BIN|TYP_INT"},
		{"name":"nproc", "lkup":"", "lkup_typ": "TYP_BY_VAR0|TYP_STR", "mk_proc_from_comm_tid_flds":{"comm":"ncomm", "tid":"npid"}},
		{"name":"state", "lkup":"prev_state=", "lkup_typ": "TYP_STR|TYP_TRC_FLD_PFX|TYP_CSW_STATE", "lkup_dlm_str":" ==> "},
		{"name":"lag_state", "lkup": "", "lkup_typ": "TYP_STR|TYP_CSW_STATE|TYP_LAG", "lag_prev_by_var_using_fld":{"name":"state", "by_var":1}},
		{"name":"cpu",   "lkup": "",     "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"ocomm", "lkup":"prev_comm", "lkup_typ": "TYP_TRC_BIN|TYP_STR"},
		{"name":"opid",  "lkup":"prev_pid", "lkup_typ": "TYP_TRC_BIN|TYP_INT"},
		{"name":"oproc", "lkup":"", "lkup_typ": "TYP_BY_VAR1|TYP_STR", "mk_proc_from_comm_tid_flds":{"comm":"ocomm", "tid":"opid"}},
		{"name":"wait_dura","lkup":"",   "lkup_typ": "TYP_DURATION_BEF|TYP_DBL", "diff_ts_with_ts_of_prev_by_var_using_fld":"oproc"}
		],
	"charts": [
		{"category":"CPU", "title":"Run queue by thread",  "var_name": "wait_dura", "by_var":"nproc",
			"chart_tag":"RUN_QUEUE", "chart_type":"line", "y_label":"wait_time (secs)", "use_chart":"n", "tot_line":"__total__"}
		]
	}
  },
  {"event":
	{
	"evt_name": "CYCLES_EVENT", "evt_type": "ftrace", "comment":"hw cpu cycles events",
	"evt_flds": [
		{"name":"cpu",   "lkup": "", "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"GHz",   "lkup": "", "lkup_typ": "TYP_PERIOD|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"mult", "val":1.0e-9}, {"oper":"drop_if_gt", "val":10.0}]},
		{"name":"dura",  "lkup": "", "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_TM_RUN|TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"CPU", "title":"freq from cycles (GHz) by cpu",  "var_name": "GHz", "by_var": "cpu",
			"chart_tag":"FREQ_BY_CPU", "chart_type":"line", "use_chart":"y", "options":"DROP_1ST",
			"tot_line":"__total__",
			"tot_line_options":{"xform":"select_vars", "yval_fmt":"__BASEVARNM__: %.2f", "yvar_fmt":"av.%s",
			"desc":"Based on freq (GHz) per cpu from cycles event"}
		}
		]
	}
  },
  {"event":
	{
	"evt_name": "r19", "evt_type": "ftrace", "arch":"ARM", "comment":"hw r19 bus-access events",
	"evt_flds": [
		{"name":"cpu",  "lkup": "", "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"bus_accesses",   "lkup": "", "lkup_typ": "TYP_PERIOD|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"mult", "val":1.0e-6}, {"oper":"drop_if_gt", "val":1000.0}]},
		{"name":"MB/sec",   "lkup": "", "lkup_typ": "TYP_PERIOD|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"mult", "val":8.0e-6}, {"oper":"drop_if_gt", "val":10.0}]},
		{"name":"dura", "lkup": "", "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_TM_RUN|TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"CPU", "title":"Bus accesses (Mi/s) from r19 bus_access event by cpu",  "var_name": "bus_accesses",
			"by_var": "cpu", "chart_tag":"BUS_ACCESS_BY_CPU", "chart_type":"line", "use_chart":"d", "tot_line":"__total__",
			"options":"DROP_1ST"},
		{"category":"CPU", "title":"Bus accesses BW (MB/sec) from r19 bus_access event by cpu",  "var_name": "MB/sec",
			"by_var": "cpu", "chart_tag":"BUS_ACCESS_BW_BY_CPU", "chart_type":"line", "use_chart":"d", "tot_line":"__total__",
			"options":"DROP_1ST"}
		]
	}
  },
  {"event":
	{
	"evt_name": "r60", "evt_type": "ftrace", "arch":"ARM", "comment":"hw r60 Load bus-access events",
	"evt_flds": [
		{"name":"cpu",  "lkup": "", "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"bus_accesses",   "lkup": "", "lkup_typ": "TYP_PERIOD|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"mult", "val":1.0e-6}, {"oper":"drop_if_gt", "val":1000.0}]},
		{"name":"MB/sec",   "lkup": "", "lkup_typ": "TYP_PERIOD|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"mult", "val":8.0e-6}, {"oper":"drop_if_gt", "val":10.0}]},
		{"name":"dura", "lkup": "", "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_TM_RUN|TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"CPU", "title":"Bus accesses (Mi/s) from r60 load bus_access event by cpu",  "var_name": "bus_accesses",
			"by_var": "cpu", "chart_tag":"BUS_ACCESS_LD_BY_CPU", "chart_type":"line", "use_chart":"d", "tot_line":"__total__",
			"options":"DROP_1ST"},
		{"category":"CPU", "title":"Bus accesses BW (MB/sec) from r60 load bus_access event by cpu",  "var_name": "MB/sec",
			"by_var": "cpu", "chart_tag":"BUS_ACCESS_LD_BW_BY_CPU", "chart_type":"line", "use_chart":"d", "tot_line":"__total__",
			"options":"DROP_1ST"}
		]
	}
  },
  {"event":
	{
	"evt_name": "re7", "evt_type": "ftrace", "arch":"ARM", "comment":"hw re7 events",
	"evt_flds": [
		{"name":"cpu",  "lkup": "", "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"stall_cycles",   "lkup": "", "lkup_typ": "TYP_PERIOD|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"mult", "val":1.0e-9}, {"oper":"drop_if_gt", "val":3.0}]},
		{"name":"dura", "lkup": "", "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_TM_RUN|TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"CPU", "title":"Load stall cycles (Bi/s) from re7 load_stall_cycles event by cpu",  "var_name": "stall_cycles",
			"by_var": "cpu", "chart_tag":"LOAD_STALL_CYCLES_BY_CPU", "chart_type":"line", "use_chart":"d", "tot_line":"__total__",
			"options":"DROP_1ST"}
		]
	}
  },
  {"event":
	{
	"evt_name": "load_stalls", "evt_type": "ftrace", "arch":"ARM", "comment":"derived event for pct stalled on loads (ld_stall_cycles/cycles)",
	"evt_derived":{
		"evts_tags":[{"evt":"re7", "tag":"num"}, {"evt":"CYCLES_EVENT", "tag":"den"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}, {"oper":"drop_if_gt", "val":120}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}]},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"%stalled on loads (ld_stall_cycles/cycles) by CPU",  "var_name": "val",
			"by_var": "area", "chart_tag":"LOAD_STALLS_PCT_CHART", "chart_type":"line", "use_chart":"d",
			"y_label":"%Ld_stalls/cycles", "tot_line":"__total__"}
		]
	}
  },
  {"event":
	{
	"evt_name": "rc0", "evt_type": "ftrace", "arch":"ARM", "comment":"hw rc0 events",
	"evt_flds": [
		{"name":"cpu",  "lkup": "", "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"BW",   "lkup": "", "lkup_typ": "TYP_PERIOD|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"mult", "val":64.0e-9}, {"oper":"drop_if_gt", "val":10.0}]},
		{"name":"dura", "lkup": "", "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_TM_RUN|TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"CPU", "title":"Mem BW (GiB/s) from rc0 ext_mem_req event by cpu",  "var_name": "BW",
			"by_var": "cpu", "chart_tag":"MEM_BW_BY_CPU", "chart_type":"line", "use_chart":"d", "tot_line":"__total__",
			"options":"DROP_1ST"}
		]
	}
  },
  {"event":
	{
	"evt_name": "rc2", "evt_type": "ftrace", "arch":"ARM", "comment":"hw rc2 linefill due to prefetch events",
	"evt_flds": [
		{"name":"cpu",  "lkup": "", "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"BW",   "lkup": "", "lkup_typ": "TYP_PERIOD|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"mult", "val":64.0e-9}, {"oper":"drop_if_gt", "val":10.0}]},
		{"name":"dura", "lkup": "", "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_TM_RUN|TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"CPU", "title":"Mem BW (GiB/s) from rc2 linefill due to prefetch event by cpu",  "var_name": "BW",
			"by_var": "cpu", "chart_tag":"MEM_BW_BY_PREFETCH_BY_CPU", "chart_type":"line", "use_chart":"d", "tot_line":"__total__",
			"options":"DROP_1ST"}
		]
	}
  },
  {"event":
	{
	"evt_name": "rc4", "evt_type": "ftrace", "arch":"ARM", "comment":"hw rc4 entering read allocate mode",
	"evt_flds": [
		{"name":"cpu",  "lkup": "", "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"BW",   "lkup": "", "lkup_typ": "TYP_PERIOD|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"mult", "val":64.0e-9}, {"oper":"drop_if_gt", "val":10.0}]},
		{"name":"dura", "lkup": "", "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_TM_RUN|TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"CPU", "title":"Mem BW (GiB/s) from rc4 entering read allocate mode event by cpu",  "var_name": "BW",
			"by_var": "cpu", "chart_tag":"MEM_BW_BY_RD_ALLOC_BY_CPU", "chart_type":"line", "use_chart":"d", "tot_line":"__total__",
			"options":"DROP_1ST"}
		]
	}
  },
  {"event":
	{
	"evt_name": "r16", "evt_type": "ftrace", "arch":"ARM", "comment":"hw r16 L2 dcache accesses events",
	"comment":"# r19=bus access, r16=L2 dcache access, r17=L2 dcache refill, r1d=bus cycles, rc0=external memory access, re7=stall cycle due to load miss",
	"comment":"$PRF_CMD record -a -k monotonic -F 997 -e \"{cpu-clock,cycles,instructions,r16,r17,re7,rc0,r1d}:S\" -o $ODIR/prf_trace2.data  &",
	"evt_flds": [
		{"name":"cpu",  "lkup": "", "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"freq", "lkup": "", "lkup_typ": "TYP_PERIOD|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"mult", "val":1.0e-6}, {"oper":"drop_if_gt", "val":2000.0}]},
		{"name":"dura", "lkup": "", "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_TM_RUN|TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"CPU", "title":"L2 accesses (Mill_accesses/s) from r16 L2 dcache accesses by cpu",  "var_name": "freq",
			"by_var": "cpu", "chart_tag":"L2_ACCESSES_FREQ_BY_CPU", "chart_type":"line", "use_chart":"d", "tot_line":"__total__",
			"options":"DROP_1ST"}
		]
	}
  },
  {"event":
	{
	"evt_name": "LLC-load-misses", "evt_type": "ftrace", "comment":"hw cache misses events",
	"evt_flds": [
		{"name":"cpu",  "lkup": "", "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"freq", "lkup": "", "lkup_typ": "TYP_PERIOD|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"mult", "val":1.0e-6}, {"oper":"drop_if_gt", "val":20000.0}]},
		{"name":"Mbytes", "lkup": "", "lkup_typ": "TYP_PERIOD|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"mult", "val":64.0e-6}, {"oper":"drop_if_gt", "val":20000.0}]},
		{"name":"dura", "lkup": "", "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_TM_RUN|TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"CPU", "title":"LLC misses (Mill_misses/s) from LLC-load-misses by cpu",  "var_name": "freq",
			"by_var": "cpu", "chart_tag":"LLC-load-misses_FREQ_BY_CPU", "chart_type":"line", "use_chart":"d", "tot_line":"__total__",
			"options":"DROP_1ST"},
		{"category":"CPU", "title":"Mem BW MiB/sec from LLC-load-misses by cpu",  "var_name": "Mbytes",
			"by_var": "cpu", "chart_tag":"MEM_BW_BY_LLC-load-misses_BY_CPU", "chart_type":"line", "y_label":"MiB/sec",
			"use_chart":"d", "tot_line":"__total__", "options":"DROP_1ST"}
		]
	}
  },
  {"event":
	{
	"evt_name": "aaa_offcore_response.all_requests.l3_miss.any_response", "evt_type": "ftrace", "arch":"Intel", "comment":"hw cache misses events",
	"evt_flds": [
		{"name":"cpu",  "lkup": "", "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"Mbytes", "lkup": "", "lkup_typ": "TYP_PERIOD|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"mult", "val":64.0e-6}, {"oper":"drop_if_gt", "val":20000.0}]},
		{"name":"dura", "lkup": "", "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_TM_RUN|TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"CPU", "title":"Mem BW MiB/sec from L3 misses by cpu",  "var_name": "Mbytes",
			"by_var": "cpu", "chart_tag":"MEM_BW_BY_OFFCORE_RESP_BY_CPU", "chart_type":"line", "y_label":"MiB/sec",
			"use_chart":"y", "tot_line":"__total__", "options":"DROP_1ST"}
		]
	}
  },
  {"event":
	{
	"evt_name": "mem_load_uops_l3_miss_retired.local_dram", "evt_type": "ftrace", "arch":"Intel", "comment":"hw cache misses events",
	"evt_flds": [
		{"name":"cpu",  "lkup": "", "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"Mbytes", "lkup": "", "lkup_typ": "TYP_PERIOD|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"mult", "val":64.0e-6}, {"oper":"drop_if_gt", "val":20000.0}]},
		{"name":"dura", "lkup": "", "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_TM_RUN|TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"CPU", "title":"Mem BW MiB/sec from mem_load_uops.L3 misses by cpu",  "var_name": "Mbytes",
			"by_var": "cpu", "chart_tag":"MEM_LD_UOPS_BW_BY_CPU", "chart_type":"line", "y_label":"MiB/sec",
			"use_chart":"y", "tot_line":"__total__", "options":"DROP_1ST"}
		]
	}
  },
  {"event":
	{
	"evt_name": "offcore_response.all_requests.l3_hit.any_response", "evt_type": "ftrace", "arch":"Intel", "comment":"hw cache misses events",
	"evt_flds": [
		{"name":"cpu",  "lkup": "", "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"Mbytes", "lkup": "", "lkup_typ": "TYP_PERIOD|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"mult", "val":64.0e-6}, {"oper":"drop_if_gt", "val":20000.0}]},
		{"name":"dura", "lkup": "", "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_TM_RUN|TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"CPU", "title":"Mem BW MiB/sec from L3 hits by cpu",  "var_name": "Mbytes",
			"by_var": "cpu", "chart_tag":"MEM_BW_BY_OFFCORE_RESP_BY_CPU", "chart_type":"line", "y_label":"MiB/sec",
			"use_chart":"y", "tot_line":"__total__", "options":"DROP_1ST"}
		]
	}
  },
  {"event":
	{
	"evt_name": "offcore_response.all_data_rd.l3_miss.local_dram", "evt_type": "ftrace", "arch":"Intel", "comment":"hw cache misses events",
	"evt_flds": [
		{"name":"cpu",  "lkup": "", "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"Mbytes", "lkup": "", "lkup_typ": "TYP_PERIOD|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"mult", "val":64.0e-6}, {"oper":"drop_if_gt", "val":20000.0}]},
		{"name":"dura", "lkup": "", "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_TM_RUN|TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"CPU", "title":"Mem BW MiB/sec from L3 hits by cpu",  "var_name": "Mbytes",
			"by_var": "cpu", "chart_tag":"MEM_BW_BY_OFFCORE_RESP2_BY_CPU", "chart_type":"line", "y_label":"MiB/sec",
			"use_chart":"y", "tot_line":"__total__", "options":"DROP_1ST"}
		]
	}
  },
  {"event":
	{
	"evt_name": "offcore_response.all_data_rd.l3_miss.local_dram", "evt_type": "ftrace", "arch":"Intel", "comment":"hw cache misses events",
	"evt_flds": [
		{"name":"cpu",  "lkup": "", "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"Mbytes", "lkup": "", "lkup_typ": "TYP_PERIOD|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"mult", "val":64.0e-6}, {"oper":"drop_if_gt", "val":20000.0}]},
		{"name":"dura", "lkup": "", "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_TM_RUN|TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"CPU", "title":"Mem BW MiB/sec from L3 hits by cpu",  "var_name": "Mbytes",
			"by_var": "cpu", "chart_tag":"MEM_BW_BY_OFFCORE_RESP2_BY_CPU", "chart_type":"line", "y_label":"MiB/sec",
			"use_chart":"y", "tot_line":"__total__", "options":"DROP_1ST"}
		]
	}
  },
  {"event":
	{
	"evt_name": "LLC_miss_pct", "evt_type": "ftrace", "comment":"derived event for LLC miss % (LLC misses/LLC accesses)",
	"evt_derived":{
		"evts_tags":[{"evt":"LLC-load-misses", "tag":"num"}, {"evt":"LLC-loads", "tag":"den"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}, {"oper":"drop_if_gt", "val":500.0}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}]},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"LLC %miss (LLC_misses/LLC_accesses) by CPU",  "var_name":"val",
			"by_var": "area", "chart_tag":"LLC_MISS_PCT_CHART", "chart_type":"line", "use_chart":"d", "y_label":"%LLC_miss"}
		]
	}
  },
  {"event":
	{
	"evt_name": "branch-load-misses", "evt_type": "ftrace", "comment":"branch load misses events",
	"evt_flds": [
		{"name":"cpu",  "lkup": "", "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"freq", "lkup": "", "lkup_typ": "TYP_PERIOD|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"mult", "val":1.0e-6}, {"oper":"drop_if_gt", "val":20000.0}]},
		{"name":"Mbytes", "lkup": "", "lkup_typ": "TYP_PERIOD|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"mult", "val":64.0e-6}, {"oper":"drop_if_gt", "val":20000.0}]},
		{"name":"dura", "lkup": "", "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_TM_RUN|TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"CPU", "title":"branch load misses (Mill_misses/s) from branch-load-misses by cpu",  "var_name": "freq",
			"by_var": "cpu", "chart_tag":"branch_load_misses_BY_CPU", "chart_type":"line", "use_chart":"d", "tot_line":"__total__",
			"options":"DROP_1ST"}
		]
	}
  },
  {"event":
	{
	"evt_name": "branch_load_miss_pct", "evt_type": "ftrace", "comment":"derived event for branch load miss % (branch-load-misses/branch-loads)",
	"evt_derived":{
		"evts_tags":[{"evt":"branch-load-misses", "tag":"num"}, {"evt":"branch-loads", "tag":"den"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}, {"oper":"drop_if_gt", "val":500.0}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}]},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"%branch load misses (branch-load_misses/branch-loads) by CPU",  "var_name":"val",
			"by_var": "area", "chart_tag":"branch_load_MISS_PCT_CHART", "chart_type":"line", "use_chart":"d", "y_label":"%br_ld_miss"}
		]
	}
  },
  {"event":
	{
	"evt_name": "r17", "evt_type": "ftrace", "arch":"ARM", "comment":"hw r17 L2 dcache misses events",
	"comment":"# r19=bus access, r16=L2 dcache access, r17=L2 dcache refill, r1d=bus cycles, rc0=external memory access, re7=stall cycle due to load miss",
	"comment":"$PRF_CMD record -a -k monotonic -F 997 -e \"{cpu-clock,cycles,instructions,r16,r17,re7,rc0,r1d}:S\" -o $ODIR/prf_trace2.data  &",
	"evt_flds": [
		{"name":"cpu",  "lkup": "", "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"freq", "lkup": "", "lkup_typ": "TYP_PERIOD|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"mult", "val":1.0e-6}, {"oper":"drop_if_gt", "val":2000.0}]},
		{"name":"Mbytes", "lkup": "", "lkup_typ": "TYP_PERIOD|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"mult", "val":64.0e-6}, {"oper":"drop_if_gt", "val":2000.0}]},
		{"name":"dura", "lkup": "", "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_TM_RUN|TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"CPU", "title":"L2 misses (Mill_misses/s) from r17 L2 dcache refill by cpu",  "var_name": "freq",
			"by_var": "cpu", "chart_tag":"L2_MISSES_FREQ_BY_CPU", "chart_type":"line", "use_chart":"d", "tot_line":"__total__",
			"options":"DROP_1ST"},
		{"category":"CPU", "title":"Mem BW MiB/sec from r17 L2 dcache refill by cpu",  "var_name": "Mbytes",
			"by_var": "cpu", "chart_tag":"MEM_BW_BY_L2_MISSES_BY_CPU", "chart_type":"line", "y_label":"MiB/sec",
			"use_chart":"d", "tot_line":"__total__", "options":"DROP_1ST"}
		]
	}
  },
  {"event":
	{
	"evt_name": "r1d", "evt_type": "ftrace", "arch":"ARM", "comment":"hw r1d events",
	"comment":"# r19=bus access, r16=L2 dcache access, r17=L2 dcache refill, r1d=bus cycles, rc0=external memory access, re7=stall cycle due to load miss",
	"comment":"$PRF_CMD record -a -k monotonic -F 997 -e \"{cpu-clock,cycles,instructions,r16,r17,re7,rc0,r1d}:S\" -o $ODIR/prf_trace2.data  &",
	"evt_flds": [
		{"name":"cpu",  "lkup": "", "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"freq", "lkup": "", "lkup_typ": "TYP_PERIOD|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"mult", "val":1.0e-6}, {"oper":"drop_if_gt", "val":2000.0}]},
		{"name":"MiB/sec", "lkup": "", "lkup_typ": "TYP_PERIOD|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"mult", "val":32.0e-6}, {"oper":"drop_if_gt", "val":4000.0}]},
		{"name":"dura", "lkup": "", "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_TM_RUN|TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"CPU", "title":"Bus freq (MiHz/s) from r1d bus cycles event by cpu",  "var_name": "freq",
			"by_var": "cpu", "chart_tag":"BUS_FREQ_BY_CPU", "chart_type":"line", "use_chart":"d", "tot_line":"__total__",
			"options":"DROP_1ST"},
		{"category":"CPU", "title":"Bus BW (MiB/sec) from r1d bus cycles event by cpu",  "var_name": "MiB/sec",
			"by_var": "cpu", "chart_tag":"BUS_BW_CYCLES_BY_CPU", "chart_type":"line", "use_chart":"d", "tot_line":"__total__",
			"options":"DROP_1ST"}
		]
	}
  },
  {"event":
	{
	"evt_name": "arm_bus_util", "evt_type": "ftrace", "arch":"ARM", "comment":"hw derived arm_bus_util events",
	"evt_derived":{
		"evts_tags":[{"evt":"r19", "tag":"num"}, {"evt":"r1d", "tag":"den"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",  "lkup": "val", "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}, {"oper":"drop_if_gt", "val":200.0}]},
		{"name":"emit", "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura", "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}]},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area", "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"%arm_bus_utilization (bus_accesses/bus_cycles) by CPU",  "var_name": "val",
			"by_var": "area", "chart_tag":"ARM_BUS_UTIL_PCT_CHART", "chart_type":"line", "use_chart":"d",
			"y_label":"arm_bus_%util"}
		]
	}
  },
  {"event":
	{
	"evt_name": "REF_CYCLES_EVENT", "evt_type": "ftrace", "arch":"Intel", "comment":"hw cpu cycles events",
	"evt_flds": [
		{"name":"cpu",   "lkup": "", "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"GHz",   "lkup": "", "lkup_typ": "TYP_PERIOD|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"mult", "val":1.0e-9}, {"oper":"drop_if_gt", "val":4.0}]},
		{"name":"dura",  "lkup": "", "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_TM_RUN|TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"CPU", "title":"ref-freq (GHz) by cpu",  "var_name": "GHz", "by_var": "cpu", "chart_tag":"REF_FREQ_BY_CPU",
			"chart_type":"line", "options":"DROP_1ST"}
		]
	}
  },
  {"event":
	{
	"evt_name": "INST_EVENT", "evt_type": "ftrace", "comment":"hw instruction event",
	"evt_flds": [
		{"name":"cpu",   "lkup": "", "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"GIPS",  "lkup": "", "lkup_typ": "TYP_PERIOD|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"mult", "val":1.0e-9}, {"oper":"drop_if_gt", "val":100.0}]},
		{"name":"dura",  "lkup": "", "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_TM_RUN|TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"CPU", "title":"billion instructions/sec by cpu",  "var_name": "GIPS",
			"by_var": "cpu", "chart_tag":"INSTR_Per_SEC_BY_CPU", "chart_type":"line", "use_chart":"y", "tot_line":"__total__",
			"options":"DROP_1ST"}
		]
	}
  },
  {"event":
	{
	"evt_name": "offcore_requests_outstanding.all_data_rd", "evt_type": "ftrace",
	"evt_flds": [
		{"name":"cpu",   "lkup": "", "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"GB",  "lkup": "", "lkup_typ": "TYP_PERIOD|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"mult", "val":64.0e-9}, {"oper":"drop_if_gt", "val":100.0}]},
		{"name":"dura",  "lkup": "", "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_TM_RUN|TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"CPU", "title":"offcore_req_outstanding GB/sec by cpu",  "var_name": "GB",
			"by_var": "cpu", "chart_tag":"OFFCORE_REQ_OUT_BY_CPU", "chart_type":"line", "use_chart":"y", "tot_line":"__total__",
			"options":"DROP_1ST"}
		]
	}
  },
  {"event":
	{
	"evt_name": "br_mis_pred_pct", "evt_type": "ftrace", "arch":"ARM", "comment":"derived event for branch mis_pred/br_pred)",
	"evt_derived":{
		"evts_tags":[{"evt":"r10", "tag":"num"}, {"evt":"r12", "tag":"den"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}, {"oper":"drop_if_gt", "val":500.0}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}]},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"%Branch mis_predict (r10 BR_MIS_PRED/r12 BR_PRED) by CPU",  "var_name":"val",
			"by_var": "area", "chart_tag":"BR_MIS_PRED_PCT_CHART", "chart_type":"line", "use_chart":"d", "y_label":"%br_mis_pred"}
		]
	}
  },
  {"event":
	{
	"evt_name": "cond_br_mis_pred_pct", "evt_type": "ftrace", "arch":"ARM", "comment":"derived event for cond_branch mis_pred/BR_COND)",
	"evt_derived":{
		"evts_tags":[{"evt":"rcc", "tag":"num"}, {"evt":"rc9", "tag":"den"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}, {"oper":"drop_if_gt", "val":500.0}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}]},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"%cond branch mis_predict (rcc BR_COND_MISPRED/rc9 BR_COND) by CPU",  "var_name":"val",
			"by_var": "area", "chart_tag":"BR_MIS_PRED_PCT_CHART", "chart_type":"line", "use_chart":"d", "y_label":"%cond_br_mis_pred"}
		]
	}
  },
  {"event":
	{
	"evt_name": "L2_miss_pct", "evt_type": "ftrace", "arch":"ARM", "comment":"derived event for L2 miss % (L2 misses/L2 accesses)",
	"evt_derived":{
		"evts_tags":[{"evt":"r17", "tag":"num"}, {"evt":"r16", "tag":"den"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}, {"oper":"drop_if_gt", "val":500.0}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}]},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"L2 %miss (L2_misses/L2_accesses) by CPU",  "var_name":"val",
			"by_var": "area", "chart_tag":"L2_MISS_PCT_CHART", "chart_type":"line", "use_chart":"d", "y_label":"%L2_miss"}
		]
	}
  },
  {"event":
	{
	"evt_name": "L2_mpki", "evt_type": "ftrace", "arch":"ARM", "comment":"derived event for L2 MPKI (L2 misses/thousand instructions)",
	"evt_derived":{
		"evts_tags":[{"evt":"r17", "tag":"num"}, {"evt":"INST_EVENT", "tag":"den"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":1000.0}, {"oper":"drop_if_gt", "val":2000.0}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":1000.0}]},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"L2_MPKI (L2_misses/thousand_instructions) by CPU",  "var_name": "val",
			"by_var": "area", "chart_tag":"L2_mpki_CHART", "chart_type":"line", "use_chart":"d", "y_label":"L2_MPKI", "tot_line":"__total__"}
		]
	}
  },
  {"event":
	{
	"evt_name": "uops_ret_per_cycle", "evt_type": "ftrace", "arch":"Intel", 
	"evt_derived":{
		"evts_tags":[{"evt":"uops_retired.all", "tag":"num"}, {"evt":"CYCLES_EVENT", "tag":"den"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"drop_if_gt", "val":120}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"uops retired per cycle by CPU",  "var_name": "val",
			"by_var": "area", "chart_tag":"UOPS_RETIRED_PER_CYCLE_CHART", "chart_type":"line", "use_chart":"d",
			"y_label":"uops_retired/cycle"}
		]
	}
  },
  {"event":
	{
	"evt_name": "uops_iss_per_cycle", "evt_type": "ftrace", "arch":"Intel", 
	"evt_derived":{
		"evts_tags":[{"evt":"uops_issued.any", "tag":"num"}, {"evt":"CYCLES_EVENT", "tag":"den"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"drop_if_gt", "val":120}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"uops issued per cycle by CPU",  "var_name": "val",
			"by_var": "area", "chart_tag":"UOPS_ISSUED_PER_CYCLE_CHART", "chart_type":"line", "use_chart":"d",
			"y_label":"uops_issued/cycle"}
		]
	}
  },
  {"event":
	{
	"evt_name": "L2_rqsts_ref_per_cycle", "evt_type": "ftrace", "comment":"l2_rqsts.references * 64 /cycle",
	"evt_derived":{
		"evts_tags":[ {"evt":"CYCLES_EVENT", "tag":"den"}, {"evt":"l2_rqsts.references", "tag":"num"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":64.0}, {"oper":"drop_if_gt", "val":888}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":64.0}]},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"L2_req bytes/cycle",  "var_name": "val", "by_var": "area", "tot_line":"__total__",
			"tot_line_options":{"xform":"map_cpu_2_core", "yval_fmt":"%.1f", "yvar_fmt":"core%d",
			"scope":["per_thread","per_core"],
			"desc":"Based on 64*l2_rqsts.references/cycle. Peak on haswell is 64 bytes/cycle"
			},
			"chart_tag":"L2_REQ_REF_BYTES_PER_CYCLE_CHART", "chart_type":"line", "use_chart":"y", "y_label":"L2_req_ref bytes/cycle"}
		]
	}
  },
  {"event":
	{
	"evt_name": "L1_repl_bytes_per_cycle", "evt_type": "ftrace", "comment":"l1d_replacement * 64 /cycle",
	"evt_derived":{
		"evts_tags":[ {"evt":"CYCLES_EVENT", "tag":"den"}, {"evt":"l1d.replacement", "tag":"num"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":64.0}, {"oper":"drop_if_gt", "val":888}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":64.0}]},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"L1D replacment bytes/cycle",  "var_name": "val", "by_var": "area", "tot_line":"__total__",
			"tot_line_options":{"xform":"map_cpu_2_core", "yval_fmt":"%.1f", "yvar_fmt":"core%d",
			"scope":["per_thread","per_core"],
			"desc":"Based on 64*l1d.replacement/cycle. Does not seem to count all l1d replacments."},
			"chart_tag":"L1D_REPL_BYTES_PER_CYCLE_CHART", "chart_type":"line", "use_chart":"y", "y_label":"L1D_replace bytes/cycle"}
		]
	}
  },
  {"event":
	{
	"evt_name": "L2_trans_all_per_cycle", "evt_type": "ftrace", "arch":"Intel", 
	"comment":" r80f0 = L2_TRANS.ALL_REQUESTS",
	"evt_derived":{
		"evts_tags":[{"evt":"l2_trans.all_requests", "tag":"num"}, {"evt":"CYCLES_EVENT", "tag":"den"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":64.0}, {"oper":"drop_if_gt", "val":120}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":64.0}]},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"L2_trans_all bytes/cycle",  "var_name": "val", "by_var": "area", "tot_line":"__total__",
			"tot_line_options":{"xform":"map_cpu_2_core", "yval_fmt":"%.1f", "yvar_fmt":"core%d",
			"scope":["per_thread","per_core"],
			"desc":"Based on 64*l2_trans.all_requests/cycle. Peak possible on haswell is 64 bytes/cycle. Peak on haswell is 64 bytes/cycle."},
			"chart_tag":"L2_TRANS_ALL_PER_CYCLE_CHART", "chart_type":"line", "use_chart":"y", "y_label":"L2_trans bytes/cycle"}
		]
	}
  },
  {"event":
	{
	"evt_name": "offcore_response_all_requests_l3_miss_any_response_per_cycle", "evt_type": "ftrace", "arch":"Intel", 
	"evt_derived":{
		"evts_tags":[{"evt":"offcore_response.all_requests.l3_miss.any_response", "tag":"num"}, {"evt":"CYCLES_EVENT", "tag":"den"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":64.0}, {"oper":"drop_if_gt", "val":888}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":64.0}]},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"L3 miss bytes per cycle by CPU",  "var_name": "val",
			"by_var": "area", "chart_tag":"L3_MISS_BYTES_PER_CYCLE_CHART", "chart_type":"line", "use_chart":"y",
			"tot_line":"__total__",
			"tot_line_options":{"xform":"map_cpu_2_core", "yval_fmt":"%.1f", "yvar_fmt":"core%d",
			"scope":["per_thread","per_core"],
			"desc":"Based on 64*offcore_response.all_requests.l3_miss.any_response/cycle. Does not seem to count all mem traffic."},
			"y_label":"L3_miss bytes/cycle"}
		]
	}
  },
  {"event":
	{
	"evt_name": "offcore_requests_buffer.sq_full_per_cycle", "evt_type": "ftrace", "arch":"Intel", 
	"evt_derived":{
		"evts_tags":[{"evt":"offcore_requests_buffer.sq_full", "tag":"num"}, {"evt":"CYCLES_EVENT", "tag":"den"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}, {"oper":"drop_if_gt", "val":200}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}]},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"%sq_full per cycle by CPU",  "var_name": "val",
			"by_var": "area", "chart_tag":"SQ_FULL_PER_CYCLE_CHART", "chart_type":"line", "use_chart":"y",
			"tot_line":"__total__",
			"tot_line_options":{"xform":"map_cpu_2_core", "yval_fmt":"%.1f%%", "yvar_fmt":"core%d",
			"scope":["per_core","per_core"], "comment":"the sq_full event counts both HT thread's cycles",
			"desc":"Based on SQ stall cycles/total cycles: 100.0*offcore_requests_buffer.sq_full/cycle"},
			"y_label":"%sq_full/cycle"}
		]
	}
  },
  {"event":
	{
	"evt_name": "offcore_requests_outstanding.all_data_rd_per_cycle", "evt_type": "ftrace", "arch":"Intel", 
	"evt_derived":{
		"evts_tags":[{"evt":"offcore_requests_outstanding.all_data_rd", "tag":"num"}, {"evt":"CYCLES_EVENT", "tag":"den"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"val2",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":64.0}, {"oper":"drop_if_gt", "val":120}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":64.0}]},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"req_outstanding bytes per cycle by CPU",  "var_name": "val",
			"by_var": "area", "chart_tag":"REQ_OUT_PER_CYCLE_CHART", "chart_type":"line", "use_chart":"y",
			"y_label":"req_out/cycle"}
		]
	}
  },
  {"event":
	{
	"evt_name": "L3_refs_per_cycle", "evt_type": "ftrace", "arch":"Intel", 
	"comment":" r4f2e = LONGEST_LAT_CACHE.REFERENCE",
	"evt_derived":{
		"evts_tags":[{"evt":"r4f2e", "tag":"num"}, {"evt":"CYCLES_EVENT", "tag":"den"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":64.0}, {"oper":"drop_if_gt", "val":120}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":64.0}]},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"L3_refs bytes per cycle by CPU",  "var_name": "val",
			"by_var": "area", "chart_tag":"L3_REFS_PER_CYCLE_CHART", "chart_type":"line", "use_chart":"y",
			"y_label":"L3_refs bytes/cycle"}
		]
	}
  },
  {"event":
	{
	"evt_name": "L3_misses_per_cycle", "evt_type": "ftrace", "arch":"Intel", 
	"comment":" r412e = LONGEST_LAT_CACHE.MISS",
	"evt_derived":{
		"evts_tags":[{"evt":"r412e", "tag":"num"}, {"evt":"CYCLES_EVENT", "tag":"den"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":64.0}, {"oper":"drop_if_gt", "val":120}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":64.0}]},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"L3_misses bytes per cycle by CPU",  "var_name": "val",
			"by_var": "area", "chart_tag":"L3_MISSES_PER_CYCLE_CHART", "chart_type":"line", "use_chart":"y",
			"y_label":"L3_misses bytes/cycle"}
		]
	}
  },
  {"event":
	{
	"evt_name": "CPI", "evt_type": "ftrace", "comment":"derived event for CPI (cycles/instruction)",
	"evt_derived":{
		"evts_tags":[{"evt":"CYCLES_EVENT", "tag":"num"}, {"evt":"INST_EVENT", "tag":"den"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"drop_if_gt", "val":120}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"CPI (cycles/instruction) by CPU",  "var_name": "val", "by_var": "area",
			"tot_line":"__total__",
			"tot_line_options":{"xform":"map_cpu_2_core", "yval_fmt":"__BASEVARNM__:%.2f",  "yvar_fmt":"av.%s",
			"scope":["per_thread","per_core"],
			"desc":"Based on instructions/cycle"},
			"chart_tag":"CPI_CHART", "chart_type":"line", "use_chart":"d", "y_label":"CPI"}
		]
	}
  },
  {"event":
	{
	"evt_name": "IPC", "evt_type": "ftrace", "comment":"derived event for IPC (instructions/cycle)",
	"evt_derived":{
		"evts_tags":[{"evt":"CYCLES_EVENT", "tag":"den"}, {"evt":"INST_EVENT", "tag":"num"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"drop_if_gt", "val":120}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"IPC (instructions/cycle) by CPU",  "var_name": "val", "by_var": "area",
			"tot_line":"__total__",
			"tot_line_options":{"xform":"map_cpu_2_core", "yval_fmt":"__BASEVARNM__:%.2f",  "yvar_fmt":"av.%s",
			"scope":["per_thread","per_core"],
			"desc":"Based on instructions/cycle"},
			"chart_tag":"IPC_CHART", "chart_type":"line", "use_chart":"d", "y_label":"IPC"}
		]
	}
  },
  {"event":
	{
	"evt_name": "idq_all_uops_per_cycle", "evt_type": "ftrace", "comment":"idq.mite_all_uops per cycle",
	"evt_derived":{
		"evts_tags":[ {"evt":"CYCLES_EVENT", "tag":"den"}, {"evt":"idq.mite_all_uops", "tag":"num"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"drop_if_gt", "val":888}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"idq.mite_all_uops/cycle",  "var_name": "val", "by_var": "area", "tot_line":"__total__",
			"tot_line_options":{"xform":"map_cpu_2_core", "yval_fmt":"%.2f", "yvar_fmt":"core%d",
			"scope":["per_thread","per_core"],
			"desc":"Based on uops/cycle: idq.mite_all_uops/cycle. I think the peak is 4 uops/cycle."},
			"chart_tag":"IDQ_ALL_UOPS_PER_CYCLE_CHART", "chart_type":"line", "use_chart":"y", "y_label":"IDQ_uops/cycle"}
		]
	}
  },
  {"event":
	{
	"evt_name": "ms_uops_per_cycle", "evt_type": "ftrace", "comment":"idq.ms_uops/cycle",
	"evt_derived":{
		"evts_tags":[ {"evt":"CYCLES_EVENT", "tag":"den"}, {"evt":"idq.ms_uops", "tag":"num"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"drop_if_gt", "val":888}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"idq.ms_uops/cycle",  "var_name": "val", "by_var": "area", "tot_line":"__total__",
			"tot_line_options":{"xform":"map_cpu_2_core", "yval_fmt":"%.2f", "yvar_fmt":"core%d",
			"scope":["per_thread","per_core"],
			"desc":"Based on total uop/cycle: idq.ms_uops/cycle. Peak MS uops/cycle = 4."},
			"chart_tag":"MS_UOPS_PER_CYCLE_CHART", "chart_type":"line", "use_chart":"y", "y_label":"idq.ms_uops/cycle"}
		]
	}
  },
  {"event":
	{
	"evt_name": "lsd_uops_per_cycle", "evt_type": "ftrace", "comment":"lsd.uops/cycle",
	"evt_derived":{
		"evts_tags":[ {"evt":"CYCLES_EVENT", "tag":"den"}, {"evt":"lsd.uops", "tag":"num"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"drop_if_gt", "val":888}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"lsd.uops/cycle",  "var_name": "val", "by_var": "area", "tot_line":"__total__",
			"tot_line_options":{"xform":"map_cpu_2_core", "yval_fmt":"%.2f", "yvar_fmt":"core%d",
			"scope":["per_thread","per_core"],
			"desc":"Based on uop/cycle: lsd.uops/cycle. Peak loop stream detector uops/cycle = 4."},
			"chart_tag":"LSD_UOPS_PER_CYCLE_CHART", "chart_type":"line", "use_chart":"y", "y_label":"LSD_uop/cycle"}
		]
	}
  },
  {"event":
	{
	"evt_name": "idq.dsb_uops_per_cycle", "evt_type": "ftrace", "comment":"idq.dsb_uops/cycle",
	"evt_derived":{
		"evts_tags":[ {"evt":"CYCLES_EVENT", "tag":"den"}, {"evt":"idq.dsb_uops", "tag":"num"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"drop_if_gt", "val":888}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"idq.dsb_uops/cycle",  "var_name": "val", "by_var": "area", "tot_line":"__total__",
			"tot_line_options":{"xform":"map_cpu_2_core", "yval_fmt":"%.2f", "yvar_fmt":"core%d",
			"scope":["per_thread","per_core"],
			"desc":"Based on total uop/cycle: idq.dsb_uops/cycle. Peak dsb uops/cycle = 4."},
			"chart_tag":"DSB_UOPS_PER_CYCLE_CHART", "chart_type":"line", "use_chart":"y", "y_label":"DSB_uops/cycle"}
		]
	}
  },
  {"event":
	{
	"evt_name": "rat_uops_per_cycle", "evt_type": "ftrace", "comment":"uops_issued.any per cycle",
	"evt_derived":{
		"evts_tags":[ {"evt":"CYCLES_EVENT", "tag":"den"}, {"evt":"uops_issued.any", "tag":"num"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"drop_if_gt", "val":888}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"RAT uops_issued.any/cycle",  "var_name": "val", "by_var": "area", "tot_line":"__total__",
			"tot_line_options":{"xform":"map_cpu_2_core", "yval_fmt":"%.2f", "yvar_fmt":"core%d",
			"scope":["per_thread","per_core"],
			"desc":"Based on total uops/cycle: uops_issued.any/cycle. Maximum on haswell is 4 uops/cycle."},
			"chart_tag":"RAT_UOPS_PER_CYCLE_CHART", "chart_type":"line", "use_chart":"y", "y_label":"RAT_uops/cycle"}
		]
	}
  },
  {"event":
	{
	"evt_name": "cycles_per_uop_retired", "evt_type": "ftrace", "comment":"cycles per uops_retired.any",
	"evt_derived":{
		"evts_tags":[ {"evt":"CYCLES_EVENT", "tag":"num"}, {"evt":"uops_retired.all", "tag":"den"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"drop_if_gt", "val":888}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"cycles/uops_retired.all",  "var_name": "val", "by_var": "area", "tot_line":"__total__",
			"tot_line_options":{"xform":"map_cpu_2_core", "yval_fmt":"%.2f", "yvar_fmt":"core%d",
			"scope":["per_core","per_thread"],
			"desc":"Based on total cycles/uop: cycles/uops_retired.all"},
			"chart_tag":"CYCLES_PER_UOPS_RETIRED_CHART", "chart_type":"line", "use_chart":"y", "y_label":"cycles/uops_retired"}
		]
	}
  },
  {"event":
	{
	"evt_name": "L2_miss_bytes_per_cycle", "evt_type": "ftrace", "comment":"l2_rqsts.miss * 64 / cycles",
	"evt_derived":{
		"evts_tags":[ {"evt":"CYCLES_EVENT", "tag":"den"}, {"evt":"l2_rqsts.miss", "tag":"num"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":64}, {"oper":"drop_if_gt", "val":888}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":64.0}]},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"L2 miss bytes/cycle",  "var_name": "val", "by_var": "area", "tot_line":"__total__",
			"tot_line_options":{"xform":"map_cpu_2_core", "yval_fmt":"%.1f", "yvar_fmt":"core%d",
			"scope":["per_thread","per_core"],
			"desc":"Based on L2 request bytes/total_cycles: 64*l2_rqsts.miss/cycle. Peak is 32 bytes/cycle on haswell. Does not seem to count all L2<->L3 traffic."},
			"chart_tag":"L2_MISS_BYTES_PER_CYCLE_CHART", "chart_type":"line", "use_chart":"y", "y_label":"L2_misses bytes/cycle"}
		]
	}
  },
  {"event":
	{
	"evt_name": "mispred_per_cycles", "evt_type": "ftrace", "comment":"cycles per int_misc.recovery_cycles",
	"evt_derived":{
		"evts_tags":[ {"evt":"CYCLES_EVENT", "tag":"den"}, {"evt":"int_misc.recovery_cycles", "tag":"num"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"drop_if_gt", "val":888}, {"oper":"mult", "val":100.0}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}]},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"BR_MISPRED_cycles/tot_cycles",  "var_name": "val", "by_var": "area", "tot_line":"__total__",
			"tot_line_options":{"xform":"map_cpu_2_core", "yval_fmt":"%.1f%%", "yvar_fmt":"core%d",
			"scope":["per_thread","per_core"], "comment":"the stall cycles might be per core",
			"desc":"Based stall cycles due to misprediction: 100*int_misc.recovery_cycles/total_cycles"},
			"chart_tag":"MISPRED_CYCLES_PER_TOT_CYCLES_CHART", "chart_type":"line", "use_chart":"y", "y_label":"%mispred cycles/cycle"}
		]
	}
  },
  {"event":
	{
	"evt_name": "ifetch_stalls_per_cycles", "evt_type": "ftrace", "comment":"icache.ifetch_stall per total cycles",
	"evt_derived":{
		"evts_tags":[ {"evt":"CYCLES_EVENT", "tag":"den"}, {"evt":"icache.ifetch_stall", "tag":"num"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"drop_if_gt", "val":888}, {"oper":"mult", "val":100.0}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}]},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"ifetch_stall_cycles/tot_cycles",  "var_name": "val", "by_var": "area", "tot_line":"__total__",
			"tot_line_options":{"xform":"map_cpu_2_core", "yval_fmt":"%.1f%%", "yvar_fmt":"core%d",
			"scope":["per_thread","per_core"],
			"desc":"Based stall cycles due to icache misses: 100*icache.ifetch_stall/total_cycles"},
			"chart_tag":"IFETCH_STALLS_PER_TOT_CYCLES_CHART", "chart_type":"line", "use_chart":"y", "y_label":"%ifetch_stall_cycles/cycle"}
		]
	}
  },
  {"event":
	{
	"evt_name": "l1d_pend_miss.fb_full_stalls_per_cycles", "evt_type": "ftrace", "comment":"l1d_pend_miss.fb_full * 100  per total cycles",
	"evt_derived":{
		"evts_tags":[ {"evt":"CYCLES_EVENT", "tag":"den"}, {"evt":"l1d_pend_miss.fb_full", "tag":"num"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"drop_if_gt", "val":888}, {"oper":"mult", "val":100.0}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}]},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"%l1d_pend_miss.fb_full/tot_cycles",  "var_name": "val", "by_var": "area", "tot_line":"__total__",
		"tot_line_options":{"xform":"map_cpu_2_core", "yval_fmt":"%.1f%%", "yvar_fmt":"core%d",
			"scope":["per_core","per_core"], "comment":"the stall cycles seems to be per core but I don't really know",
			"desc":"Based stall cycles due to fill buffer full: 100*l1d_pend_miss.fb_full/total_cycles"},
		"chart_tag":"L1D_PENDING_MISS_FB_FULL_PER_TOT_CYCLES_CHART", "chart_type":"line", "use_chart":"y", "y_label":"%l1d_pend_miss.fb_full_stall_cycles/tot_cycle"}
		]
	}
  },
  {"event":
	{
	"evt_name": "uops_issued.core_stall_cycles_per_cycles", "evt_type": "ftrace", "comment":"uops_issued.core_stall_cycles * 100  per total cycles",
	"evt_derived":{
		"evts_tags":[ {"evt":"CYCLES_EVENT", "tag":"den"}, {"evt":"uops_issued.core_stall_cycles", "tag":"num"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}, {"oper":"drop_if_gt", "val":888}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}]},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"%uops_issued.core_stall_cycles/tot_cycles",  "var_name": "val", "by_var": "area", "tot_line":"__total__",
		"tot_line_options":{"xform":"map_cpu_2_core", "yval_fmt":"%.1f%%", "yvar_fmt":"core%d",
			"scope":["per_core","per_core"],
			"desc":"Cycles when Resource Allocation Table (RAT) does not issue Uops to Reservation Station (RS): 100*uops_issued.core_stall_cycles/total_cycles"},
		"chart_tag":"UOPS_ISSUED.CORE_STALL_CYCLES_PER_TOT_CYCLES_CHART", "chart_type":"line", "use_chart":"y", "y_label":"%uops_issued.core_stall_cycles/tot_cycle"}
		]
	}
  },
  {"event":
	{
	"evt_name": "resource_stalls.rob_per_cycle", "evt_type": "ftrace", "comment":"resource_stalls.rob * 100  per total cycles",
	"evt_derived":{
		"evts_tags":[ {"evt":"CYCLES_EVENT", "tag":"den"}, {"evt":"resource_stalls.rob", "tag":"num"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}, {"oper":"drop_if_gt", "val":888}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}]},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"%resource_stalls.rob/tot_cycles",  "var_name": "val", "by_var": "area", "tot_line":"__total__",
		"tot_line_options":{"xform":"map_cpu_2_core", "yval_fmt":"%.1f%%", "yvar_fmt":"core%d",
			"scope":["per_thread","per_core"],
			"desc":"stall cycles due to ROB is full: 100*resource_stalls.rob/total_cycles"},
		"chart_tag":"RESOURCE_STALLS.ROB_PER_TOT_CYCLES_CHART", "chart_type":"line", "use_chart":"y", "y_label":"%resource_stalls.rob/tot_cycle"}
		]
	}
  },
  {"event":
	{
	"evt_name": "resource_stalls.rs_per_cycle", "evt_type": "ftrace", "comment":"resource_stalls.rs * 100  per total cycles",
	"evt_derived":{
		"evts_tags":[ {"evt":"CYCLES_EVENT", "tag":"den"}, {"evt":"resource_stalls.rs", "tag":"num"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}, {"oper":"drop_if_gt", "val":888}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}]},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"%resource_stalls.rs/tot_cycles",  "var_name": "val", "by_var": "area", "tot_line":"__total__",
		"tot_line_options":{"xform":"map_cpu_2_core", "yval_fmt":"%.1f%%", "yvar_fmt":"core%d",
			"scope":["per_thread","per_core"],
			"desc":"stall cycles due to RS is full: 100*resource_stalls.rs/total_cycles"},
		"chart_tag":"RESOURCE_STALLS.RS_PER_TOT_CYCLES_CHART", "chart_type":"line", "use_chart":"y", "y_label":"%resource_stalls.rs/tot_cycle"}
		]
	}
  },
  {"event":
	{
	"evt_name": "resource_stalls.sb_per_cycle", "evt_type": "ftrace", "comment":"resource_stalls.sb * 100  per total cycles",
	"evt_derived":{
		"evts_tags":[ {"evt":"CYCLES_EVENT", "tag":"den"}, {"evt":"resource_stalls.sb", "tag":"num"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}, {"oper":"drop_if_gt", "val":888}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}]},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"%resource_stalls.sb/tot_cycles",  "var_name": "val", "by_var": "area", "tot_line":"__total__",
		"tot_line_options":{"xform":"map_cpu_2_core", "yval_fmt":"%.1f%%", "yvar_fmt":"core%d",
			"scope":["per_thread","per_core"],
			"desc":"stall cycles due to SB store buffer is full: 100*resource_stalls.sb/total_cycles"},
		"chart_tag":"RESOURCE_STALLS.SB_PER_TOT_CYCLES_CHART", "chart_type":"line", "use_chart":"y", "y_label":"%resource_stalls.sb/tot_cycle"}
		]
	}
  },
  {"event":
	{
	"evt_name": "uops_retired.core_stall_cycles_per_cycles", "evt_type": "ftrace", "comment":"uops_retired.core_stall_cycles * 100  per total cycles",
	"evt_derived":{
		"evts_tags":[ {"evt":"CYCLES_EVENT", "tag":"den"}, {"evt":"uops_retired.core_stall_cycles", "tag":"num"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}, {"oper":"drop_if_gt", "val":888}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":100.0}]},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"%uops_retired.core_stall_cycles/tot_cycles",  "var_name": "val", "by_var": "area", "tot_line":"__total__",
		"tot_line_options":{"xform":"map_cpu_2_core", "yval_fmt":"%.1f%%", "yvar_fmt":"core%d",
			"scope":["per_core","per_core"],
			"desc":"% of Cycles without actually retired uops: 100*uops_retired.core_stall_cycles/total_cycles"},
		"chart_tag":"UOPS_RETIRED.CORE_STALL_CYCLES_PER_TOT_CYCLES_CHART", "chart_type":"line", "use_chart":"y", "y_label":"%uops_retired.core_stall_cycles/tot_cycle"}
		]
	}
  },
  {"event":
	{
	"evt_name": "uops_issued_per_uops_retired", "evt_type": "ftrace", "comment":"uops_issued vs uops_retired",
	"evt_derived":{
		"evts_tags":[ {"evt":"uops_retired.all", "tag":"den"}, {"evt":"uops_issued.any", "tag":"num"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"drop_if_gt", "val":2888}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"uops_issued per uops_retired",  "var_name": "val", "by_var": "area", "tot_line":"__total__",
		"tot_line_options":{"xform":"map_cpu_2_core", "yval_fmt":"%.1f", "yvar_fmt":"core%d",
			"scope":["per_thread","per_thread"],
			"desc":"ratio of uops_issued.any/uops_retired.all: uops_issued.any/uops_retired.all"},
		"chart_tag":"UOPS_ISSUED_PER_UOP_RETIRED_CHART", "chart_type":"line", "use_chart":"y", "y_label":"uops_issued/retired"}
		]
	}
  },
  {"event":
	{
	"evt_name": "icache_misses_per_cycle", "evt_type": "ftrace", "comment":"icache.misses bytes per cycle",
	"evt_derived":{
		"evts_tags":[ {"evt":"CYCLES_EVENT", "tag":"den"}, {"evt":"icache.misses", "tag":"num"}],
		"evt_trigger":"__EMIT__",
		"new_cols":["val", "__EMIT__", "duration", "numerator", "denominator", "area"],
		"lua_file":"gen_div_pair.lua",
		"lua_rtn":"gen_div_pair"
	},
	"evt_flds": [
		{"name":"val",   "lkup": "val",      "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"drop_if_gt", "val":888}, {"oper":"mult", "val":64.0}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"numerator",  "lkup": "numerator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":64.0}]},
		{"name":"denominator",  "lkup": "denominator", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"CPU", "title":"icache_misse_bytes/cycle",  "var_name": "val", "by_var": "area", "tot_line":"__total__",
			"tot_line_options":{"xform":"map_cpu_2_core", "yval_fmt":"%.1f", "yvar_fmt":"core%d",
			"scope":["per_thread","per_core"],
			"desc":"icache miss bytes/cycle: 64*icache.misses/total_cycles. Peak is 64 bytes/cycle."},
			"chart_tag":"ICACHE_MISS_BYTES_PER_CYCLE_CHART", "chart_type":"line", "use_chart":"y", "y_label":"icache_miss_bytes/cycle"}
		]
	}
  },
  {"event":
	{
	"evt_name": "power:cpu_idle", "evt_type": "ftrace", "comment":"cpu_idle ftrace event",
	"evt_flds": [
		{"name":"cpu",   "lkup": "cpu_id", "lkup_typ": "TYP_TRC_BIN|TYP_INT"},
		{"name":"cpu_idle state", "lkup": "state",  "lkup_typ": "TYP_TRC_BIN|TYP_STATE_AFTER|TYP_DBL",
			"actions":[{"oper":"replace", "val":4294967295, "val1":-1}, {"oper":"add", "val":0}, {"oper":"cap", "val":8}]},
		{"name":"dura",  "lkup": "", "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"power", "title":"power:cpu_idle by cpu",  "var_name": "cpu_idle state", "by_var": "cpu",
			"chart_tag":"CPU_IDLE_BY_CPU", "chart_type":"line", "y_fmt":"%d", "use_chart":"d"}
		]
	}
  },
  {"event":
	{
	"evt_name": "power:cpu_frequency", "evt_type": "ftrace", "comment":"cpu_frequency ftrace event",
	"evt_flds": [
		{"name":"cpu",   "lkup": "cpu_id", "lkup_typ": "TYP_TRC_BIN|TYP_INT"},
		{"name":"freq(GHz)", "lkup": "state",  "lkup_typ": "TYP_TRC_BIN|TYP_STATE_AFTER|TYP_DBL", "actions":[{"oper":"mult", "val":1.0e-6}]},
		{"name":"dura",  "lkup": "", "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"power", "title":"power:cpu_frequency by cpu",  "var_name": "freq(GHz)", "by_var": "cpu",
			"chart_tag":"CPU_FREQ_BY_CPU", "chart_type":"line", "use_chart":"d"}
		]
	}
  },
  {"event":
	{
	"evt_name": "lua:power", "evt_type": "lua", "comment":"read perf stat file for rapl energy MSRs",
	"evt_flds": [
		{"name":"timestamp", "lkup":"_TIMESTAMP_", "lkup_typ": "TYP_TIMESTAMP|TYP_DBL"},
		{"name":"power (W)",     "lkup":"watts",       "lkup_typ": "TYP_DBL"},
		{"name":"area",      "lkup":"area",        "lkup_typ": "TYP_STR"},
		{"name":"dura",      "lkup":"_DURATION_",  "lkup_typ": "TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"power", "title":"RAPL power (Watts) by area",  "var_name": "power (W)", "by_var": "area",
			"tot_line":"__total__",
			"tot_line_options":{"xform":"select_vars", "yval_fmt":"__BASEVARNM__ %.1f", "yvar_fmt":"av.%s",
			"desc":"Based on RAPL power MSRs"},
			"chart_tag":"RAPL_POWER_BY_AREA", "chart_type":"line", "use_chart":"d"}
		]
	}
  },
  {"event":
	{
	"evt_name": "lua:iostat", "evt_type": "lua", "comment":"read iostat file",
	"evt_flds": [
		{"name":"timestamp", "lkup":"_TIMESTAMP_", "lkup_typ": "TYP_TIMESTAMP|TYP_DBL"},
		{"name":"MB/sec",     "lkup":"kBpsec",       "lkup_typ": "TYP_DBL", "actions":[{"oper":"mult", "val":1.0e-3}]},
		{"name":"area",      "lkup":"area",        "lkup_typ": "TYP_STR"},
		{"name":"dura",      "lkup":"_DURATION_",  "lkup_typ": "TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"disk", "title":"iostat disk read/write",  "var_name": "MB/sec", "by_var": "area",
			"tot_line":"__total__",  "y_label":"IO MB/sec",
			"chart_tag":"IOSTAT_cHART", "chart_type":"line", "use_chart":"y"}
		]
	}
  },
  {"event":
	{
	"evt_name": "lua:vmstat.io", "evt_type": "lua", "comment":"read vmstat file",
	"evt_flds": [
		{"name":"timestamp", "lkup":"_TIMESTAMP_", "lkup_typ": "TYP_TIMESTAMP|TYP_DBL"},
		{"name":"extra_str", "lkup":"extra_str",   "lkup_typ": "TYP_STR"},
		{"name":"val",     "lkup":"val",       "lkup_typ": "TYP_DBL|TYP_ADD_2_EXTRA", "actions":[{"oper":"mult", "val":1024.0e-6}]},
		{"name":"area",      "lkup":"area",        "lkup_typ": "TYP_STR"},
		{"name":"dura",      "lkup":"_DURATION_",  "lkup_typ": "TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"disk", "title":"vmstat io blocks in or out per sec (MB/sec)",  "var_name": "val", "by_var": "area",
			"tot_line":"__total__",  "y_label":"IO blocks MB/sec",
			"chart_tag":"VMSTAT_IO_cHART", "chart_type":"line", "use_chart":"y"}
		]
	}
  },
  {"event":
	{
	"evt_name": "lua:vmstat.mem", "evt_type": "lua", "comment":"read vmstat file",
	"evt_flds": [
		{"name":"timestamp", "lkup":"_TIMESTAMP_", "lkup_typ": "TYP_TIMESTAMP|TYP_DBL"},
		{"name":"extra_str", "lkup":"extra_str",   "lkup_typ": "TYP_STR"},
		{"name":"val",     "lkup":"val",       "lkup_typ": "TYP_DBL|TYP_ADD_2_EXTRA", "actions":[{"oper":"mult", "val":1.0e-3}]},
		{"name":"area",      "lkup":"area",        "lkup_typ": "TYP_STR"},
		{"name":"dura",      "lkup":"_DURATION_",  "lkup_typ": "TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"DRAM", "title":"vmstat memory usage (MBytes)",  "var_name": "val", "by_var": "area",
			"tot_line":"__total__",  "y_label":"mem usage MBytes",
			"chart_tag":"VMSTAT_MEM_cHART", "chart_type":"line", "use_chart":"y"}
		]
	}
  },
  {"event":
	{
	"evt_name": "lua:vmstat.proc", "evt_type": "lua", "comment":"read vmstat file",
	"evt_flds": [
		{"name":"timestamp", "lkup":"_TIMESTAMP_", "lkup_typ": "TYP_TIMESTAMP|TYP_DBL"},
		{"name":"extra_str", "lkup":"extra_str",   "lkup_typ": "TYP_STR"},
		{"name":"val",     "lkup":"val",       "lkup_typ": "TYP_DBL|TYP_ADD_2_EXTRA"},
		{"name":"area",      "lkup":"area",        "lkup_typ": "TYP_STR"},
		{"name":"dura",      "lkup":"_DURATION_",  "lkup_typ": "TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"CPU", "title":"vmstat processes runnable or blocked",  "var_name": "val", "by_var": "area",
			"tot_line":"__total__",  "y_label":"number of processes",
			"chart_tag":"VMSTAT_PROC_cHART", "chart_type":"line", "use_chart":"y"}
		]
	}
  },
  {"event":
	{
	"evt_name": "lua:vmstat.swap", "evt_type": "lua", "comment":"read vmstat file",
	"evt_flds": [
		{"name":"timestamp", "lkup":"_TIMESTAMP_", "lkup_typ": "TYP_TIMESTAMP|TYP_DBL"},
		{"name":"extra_str", "lkup":"extra_str",   "lkup_typ": "TYP_STR"},
		{"name":"val",     "lkup":"val",       "lkup_typ": "TYP_DBL|TYP_ADD_2_EXTRA"},
		{"name":"area",      "lkup":"area",        "lkup_typ": "TYP_STR"},
		{"name":"dura",      "lkup":"_DURATION_",  "lkup_typ": "TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"disk", "title":"vmstat swap memory swapped in or out MB/s",  "var_name": "val", "by_var": "area",
			"tot_line":"__total__",  "y_label":"swapped memory MB/sec",
			"chart_tag":"VMSTAT_SWAP_cHART", "chart_type":"line", "use_chart":"y"}
		]
	}
  },
  {"event":
	{
	"evt_name": "lua:vmstat.cpu", "evt_type": "lua", "comment":"read vmstat file",
	"evt_flds": [
		{"name":"timestamp", "lkup":"_TIMESTAMP_", "lkup_typ": "TYP_TIMESTAMP|TYP_DBL"},
		{"name":"extra_str", "lkup":"extra_str",   "lkup_typ": "TYP_STR"},
		{"name":"val",     "lkup":"val",       "lkup_typ": "TYP_DBL|TYP_ADD_2_EXTRA"},
		{"name":"area",      "lkup":"area",        "lkup_typ": "TYP_STR"},
		{"name":"dura",      "lkup":"_DURATION_",  "lkup_typ": "TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"CPU", "title":"vmstat cpu user, sys, idle, wait, stolen pct of system",  "var_name": "val", "by_var": "area",
			"tot_line":"__total__",  "y_label":"cpu usage (%_all_cpus)",
			"chart_tag":"VMSTAT_SYS_cHART", "chart_type":"line", "use_chart":"y"}
		]
	}
  },
  {"event":
	{
	"evt_name": "lua:vmstat.sys", "evt_type": "lua", "comment":"read vmstat file",
	"evt_flds": [
		{"name":"timestamp", "lkup":"_TIMESTAMP_", "lkup_typ": "TYP_TIMESTAMP|TYP_DBL"},
		{"name":"extra_str", "lkup":"extra_str",   "lkup_typ": "TYP_STR"},
		{"name":"val",     "lkup":"val",       "lkup_typ": "TYP_DBL|TYP_ADD_2_EXTRA"},
		{"name":"area",      "lkup":"area",        "lkup_typ": "TYP_STR"},
		{"name":"dura",      "lkup":"_DURATION_",  "lkup_typ": "TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"CPU", "title":"vmstat system interrupts/s, context switches/s",  "var_name": "val", "by_var": "area",
			"tot_line":"__total__",  "y_label":"intrpts/s, cswitch/s",
			"chart_tag":"VMSTAT_SYS_cHART", "chart_type":"line", "use_chart":"y"}
		]
	}
  },
  {"event":
	{
	"evt_name": "lua:nicstat.KBytes/sec", "evt_type": "lua", "comment":"read nicstat file",
	"evt_flds": [
		{"name":"timestamp", "lkup":"_TIMESTAMP_", "lkup_typ": "TYP_TIMESTAMP|TYP_DBL"},
		{"name":"extra_str", "lkup":"extra_str",   "lkup_typ": "TYP_STR"},
		{"name":"val",     "lkup":"val",       "lkup_typ": "TYP_DBL|TYP_ADD_2_EXTRA"},
		{"name":"area",      "lkup":"area",        "lkup_typ": "TYP_STR"},
		{"name":"dura",      "lkup":"_DURATION_",  "lkup_typ": "TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"Network", "title":"nicstat interface read/write KB/sec",  "var_name": "val", "by_var": "area",
			"tot_line":"__total__",  "y_label":"KBytes/sec",
			"chart_tag":"NICSTAT_KB_PER_SEC_cHART", "chart_type":"line", "use_chart":"y"}
		]
	}
  },
  {"event":
	{
	"evt_name": "lua:nicstat.packets/sec", "evt_type": "lua", "comment":"read nicstat file",
	"evt_flds": [
		{"name":"timestamp", "lkup":"_TIMESTAMP_", "lkup_typ": "TYP_TIMESTAMP|TYP_DBL"},
		{"name":"extra_str", "lkup":"extra_str",   "lkup_typ": "TYP_STR"},
		{"name":"val",     "lkup":"val",       "lkup_typ": "TYP_DBL|TYP_ADD_2_EXTRA"},
		{"name":"area",      "lkup":"area",        "lkup_typ": "TYP_STR"},
		{"name":"dura",      "lkup":"_DURATION_",  "lkup_typ": "TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"Network", "title":"nicstat interface read/write packets/sec",  "var_name": "val", "by_var": "area",
			"tot_line":"__total__", "y_label":"packets/sec",
			"chart_tag":"NICSTAT_PACKETS_PER_SEC_cHART", "chart_type":"line", "use_chart":"y"}
		]
	}
  },
  {"event":
	{
	"evt_name": "lua:temperature", "evt_type": "lua", "comment":"read sysfs raspberry pi3 ubuntu mate temperature",
	"evt_flds": [
		{"name":"timestamp", "lkup":"_TIMESTAMP_", "lkup_typ": "TYP_TIMESTAMP|TYP_DBL"},
		{"name":"temperature (degC)",     "lkup":"degrees",       "lkup_typ": "TYP_DBL"},
		{"name":"area",      "lkup":"area",        "lkup_typ": "TYP_STR"},
		{"name":"dura",      "lkup":"_DURATION_",  "lkup_typ": "TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"thermal", "title":"Temperature (degC)",  "var_name": "temperature (degC)", "by_var": "area",
			"tot_line":"__total__", 
			"tot_line_options":{"xform":"select_vars", "yval_fmt":"__BASEVARNM__ %.1f", "yvar_fmt":"av.%s",
			"desc":"Based on /sys/devices/virtual/thermal/thermal_zone0/temp"},
			"chart_tag":"TEMPERATURE_BY_ZONE", "chart_type":"line", "use_chart":"y"}
		]
	}
  },
  {"event":
	{
	"evt_name": "lua:faults", "evt_type": "lua", "comment":"perf stat hard/soft page faults",
	"evt_flds": [
		{"name":"timestamp", "lkup":"_TIMESTAMP_", "lkup_typ": "TYP_TIMESTAMP|TYP_DBL"},
		{"name":"val",     "lkup":"faults",       "lkup_typ": "TYP_DBL|TYP_DIV_BY_INTERVAL|TYP_ADD_2_EXTRA"},
		{"name":"area",      "lkup":"area",        "lkup_typ": "TYP_STR"},
		{"name":"dura",      "lkup":"_DURATION_",  "lkup_typ": "TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"disk", "title":"perf page faults/sec",  "var_name": "val", "by_var": "area",
			"tot_line":"__total__", "y_label":"page faults/sec",
			"chart_tag":"PERF_FAULTS_SEC_cHART", "chart_type":"line", "use_chart":"y"}
		]
	}
  },
  {"event":
	{
	"evt_name": "lua:cbox_freq", "evt_type": "lua", "comment":"lua processing perf stat uncore_cbox_* event",
     		"example":"0.730438635 52194588 uncore_cbox_0/clockticks/ 20416769 100.00",
	"evt_flds": [
		{"name":"timestamp", "lkup":"_TIMESTAMP_", "lkup_typ": "TYP_TIMESTAMP|TYP_DBL"},
		{"name":"freq",     "lkup":"cycles",       "lkup_typ": "TYP_DBL",
			"actions":[{"oper":"mult", "val":1.0e-9}, {"oper":"drop_if_gt", "val":20}]},
		{"name":"area",      "lkup":"area",        "lkup_typ": "TYP_STR"},
		{"name":"dura",      "lkup":"_DURATION_",  "lkup_typ": "TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"DRAM", "title":"cbox freq (GHz)",  "var_name": "freq", "by_var": "area",
			"chart_tag":"CBOX_FREQ_BY_AREA", "chart_type":"line", "use_chart":"d"}
		]
	}
  },
  {"event":
	{
	"evt_name": "lua:imc_bw", "evt_type": "lua", "comment":"lua processing perf stat imc bytes read/write",
     		"example":"0.730438635 88.10 MiB uncore_imc/data_reads/ 20416914 100.00",
	"evt_flds": [
		{"name":"timestamp", "lkup":"_TIMESTAMP_", "lkup_typ": "TYP_TIMESTAMP|TYP_DBL"},
		{"name":"BW",        "lkup":"MiB",         "lkup_typ": "TYP_DBL"},
		{"name":"area",      "lkup":"area",        "lkup_typ": "TYP_STR"},
		{"name":"dura",      "lkup":"_DURATION_",  "lkup_typ": "TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"DRAM", "title":"imc BW (MB/sec)",  "var_name": "BW", "by_var": "area", "chart_tag":"BW_BY_TYPE",
			"chart_type":"line", "use_chart":"y",
			"tot_line":"__total__",
			"tot_line_options":{"xform":"select_vars", "yval_fmt":"__BASEVARNM__: %.1f", "yvar_fmt":"avg.%s",
			"desc":"Memory controller Bandwidth MB/s based on perf stat imc bytes read/write"}
		}
		]
	}
  },
  {"event":
	{
	"evt_name": "lua:unc_bytes", "evt_type": "lua", "comment":"lua processing perf stat unc_arb_trk_requests.all",
     		"example":"0.730438635 88.10 MiB uncore_imc/data_reads/ 20416914 100.00",
	"evt_flds": [
		{"name":"timestamp", "lkup":"_TIMESTAMP_", "lkup_typ": "TYP_TIMESTAMP|TYP_DBL"},
		{"name":"BW",        "lkup":"bytes",         "lkup_typ": "TYP_DBL|TYP_DIV_BY_INTERVAL", "actions":[{"oper":"mult", "val":64.0e-6}]},
		{"name":"PCT_PK_BW",  "lkup":"bytes",      "lkup_typ": "TYP_DBL|TYP_DIV_BY_INTERVAL",
			"actions":[{"oper":"mult", "val":247.104247104e-9}], "comment":"64bytes/line * 100 * 1e-9 / 25.9 GB/s (haswell peak mem bw)"}, 
		{"name":"area",      "lkup":"area",        "lkup_typ": "TYP_STR"},
		{"name":"dura",      "lkup":"_DURATION_",  "lkup_typ": "TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"DRAM", "title":"uncore BW (MB/sec)",  "var_name": "BW", "by_var": "area", "chart_tag":"UNC_BW_CHART",
			"chart_type":"line", "use_chart":"y", "tot_line":"__total__"},
		{"category":"DRAM", "title":"% peak haswell mem BW",  "var_name": "PCT_PK_BW", "by_var": "area", "chart_tag":"UNC_HASWELL_PEAK_BW_CHART",
			"chart_type":"line", "use_chart":"y", "y_fmt":"%.1f%%", "y_label":"%max_haswell_mem_BW", "tot_line":"__total__",
			"tot_line_options":{"yval_fmt":"%.1f%%",
			"desc":"Based on 64 (bytes/req) * unc_arb_trk_requests.all (reqs) * 100 (for pct) * 1e-9 (to GB) / 25.9 GB/s (haswell peak mem bw)"
			}
		}
		]
	}
  },
  {"event":
	{
	"evt_name": "thermal:thermal_temperature", "evt_type": "ftrace", "comment":"temperature by zone",
	"example_record":"kworker/0:1-23329 [000] 10219854600198: thermal_temperature:  thermal_zone=acpitz id=0 temp_prev=60000 temp=63000",
	"evt_flds": [
		{"name":"", "lkup": "temp",  "lkup_typ": "TYP_TRC_BIN|TYP_DBL", "next_for_name":"Temp(C)", "actions":[{"oper":"mult", "val":0.001}]},
		{"name":"Temp(C)", "lkup": "temp_prev",  "lkup_typ": "TYP_TRC_BIN|TYP_DURATION_PREV_TS_SAME_BY_VAL|TYP_DBL", "actions":[{"oper":"mult", "val":0.001}]},
		{"name":"thermal_zone", "lkup": "thermal_zone=",  "lkup_typ": "TYP_TRC_FLD_PFX|TYP_STR", "lkup_dlm_str":" id="},
		{"name":"zone", "lkup": "id",  "lkup_typ": "TYP_TRC_BIN|TYP_INT"}
		],
	"charts": [
		{"category":"thermal", "title":"Temperature(C) by zone",  "var_name": "Temp(C)", "by_var": "thermal_zone",
			"chart_tag":"TEMPERATURE_BY_ZONE", "chart_type":"line", "use_chart":"d",
			"tot_line":"__total__",
			"tot_line_options":{"xform":"select_vars", "yval_fmt":"__BASEVARNM__: %.1f", "yvar_fmt":"avg.%s",
			"desc":"Temperatue by zone in deg C. Based on ftrace event thermal:thermal_temperature"}
		}
		]
	}
  },
  {"event":
	{
	"evt_name": "ext4_da_write", "evt_type": "ftrace", "comment":"derived event for ext4_da_write_begin and ext4_da_write_exit",
	"example_record":"perf-17708 [001] 15155313933314: ext4_da_write_begin:  dev 8,6 ino 275381 pos 35073 len 556 flags 0",
	"example_record":"perf-17708 [001] 15155313935547: ext4_da_write_end:    dev 8,6 ino 275381 pos 35073 len 556 copied 556",
	"evt_derived":{
		"evts_used":["ext4:ext4_da_write_begin", "ext4:ext4_da_write_end"],
		"evt_trigger":"ext4:ext4_da_write_end",
		"new_cols":["MiB/s", "bytes", "duration", "area"],
		"lua_file":"tc_ext4_da_write.lua",
		"lua_rtn":"ext4_da_write"
	},
	"evt_flds": [
		{"name":"MiB/s", "lkup": "MiB/s",    "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":1.0e-6}]},
		{"name":"bytes", "lkup": "bytes",    "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"Disk", "title":"Disk BW MiB/sec ext4_da_write",  "var_name": "MiB/s", "by_var": "area", "chart_tag":"DISK_BW",
			"chart_type":"line", "use_chart":"d"}
		]
	}
  },
  {"event":
	{
	"evt_name": "block_rq", "evt_type": "ftrace", "comment":"derived event for block_rq_insert and block_rq_complete",
	"evt_derived":{
		"evts_used":["ext4:block_rq_insert", "ext4:block_rq_complete"],
		"evt_trigger":"__EMIT__",
		"new_cols":["__EMIT__", "MiB/s", "bytes", "duration", "area"],
		"lua_file":"tc_block_rq.lua",
		"lua_rtn":"block_rq"
	},
	"evt_flds": [
		{"name":"MiB/s", "lkup": "MiB/s",    "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":1.0e-6}]},
		{"name":"emit",  "lkup": "__EMIT__", "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"bytes", "lkup": "bytes",    "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"Disk", "title":"Disk BW MiB/sec block_rq",  "var_name": "MiB/s", "by_var": "area", "chart_tag":"DISK_BW_BLOCK_RQ",
			"chart_type":"line", "use_chart":"y",
			"tot_line":"__total__", "tot_line_options":{"yval_fmt":"%.3f", "desc":"Based on ftrace block_rq_issue/complete"}
		}
		]
	}
  },
  {"event":
	{
	"evt_name": "ext4_direct_IO", "evt_type": "ftrace", "comment":"derived event for ext4_da_write_begin and ext4_da_write_exit",
	"example_record":"spin.x-17593 [001] 15110116275907: ext4_direct_IO_enter: dev 8,6 ino 302391 pos 104792064 len 65536 rw 1",
	"example_record":"spin.x-17593 [001] 15110116443521: ext4_direct_IO_exit:  dev 8,6 ino 302391 pos 104792064 len 65536 rw 1 ret 65536",
	"evt_derived":{
		"evts_used":["ext4:ext4_direct_IO_enter", "ext4:ext4_direct_IO_exit"],
		"evt_trigger":"ext4:ext4_direct_IO_exit",
		"new_cols":["MiB/s", "bytes", "duration", "area"],
		"lua_file":"tc_ext4_direct_IO.lua",
		"lua_rtn":"ext4_direct_IO"
	},
	"evt_flds": [
		{"name":"MiB/s", "lkup": "MiB/s",    "lkup_typ": "TYP_DBL|TYP_NEW_VAL", "actions":[{"oper":"mult", "val":1.0e-6}]},
		{"name":"bytes", "lkup": "bytes",    "lkup_typ": "TYP_DBL|TYP_NEW_VAL"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DBL|TYP_DURATION_BEF|TYP_NEW_VAL"},
		{"name":"proc",  "lkup": "", "lkup_typ": "TYP_COMM_PID_TID|TYP_STR"},
		{"name":"area",  "lkup": "area",     "lkup_typ": "TYP_STR|TYP_NEW_VAL"}
		],
	"charts": [
		{"category":"Disk", "title":"Disk BW MiB/sec ext4_direct_IO",  "var_name": "MiB/s", "by_var": "area",
			"chart_tag":"DISK_BW_DIRECT", "chart_type":"line", "use_chart":"d"}
		]
	}
  },
  {"event":
	{
	"evt_name": "i915:i915_flip_complete", "evt_type": "ftrace", "comment":"frames completed?",
	"example_record":"spin.x-24314 [001] 10219453598301: i915_flip_complete:   plane=0, obj=0xffff880148573440",
	"evt_flds": [
		{"name":"frames", "lkup": "plane", "lkup_typ": "TYP_TRC_BIN|TYP_DIV_BY_INTERVAL2|TYP_DBL", "actions":[{"oper":"replace_any", "val":1.0}],
			"actions_stage2":[{"oper":"cap", "val":130.0}]},
		{"name":"plane", "lkup": "plane", "lkup_typ": "TYP_TRC_BIN|TYP_DURATION_PREV_TS_SAME_BY_VAL|TYP_DBL"}
		],
	"charts": [
		{"category":"GPU", "title":"frames per sec",  "var_name": "frames", "by_var": "plane", "chart_tag":"FRAMES_PER_SEC",
			"chart_type":"line", "use_chart":"d"}
		]
	}
  },
  {"event":
	{
	"evt_name": "i915:intel_gpu_freq_change", "evt_type": "ftrace", "comment":"gpu frequency?",
	"example_record":"     kworker/1:3-16226 [001] 3048572179336: intel_gpu_freq_change: new_freq=1100",
	"evt_flds": [
		{"name":"freq", "lkup": "freq", "lkup_typ": "TYP_TRC_BIN|TYP_DURATION_PREV_TS_SAME_BY_VAL|TYP_STATE_AFTER|TYP_DBL"},
		{"name":"gpu", "lkup": "", "lkup_typ": "TYP_SYS_CPU|TYP_INT", "actions":[{"oper":"replace_any", "val":0.0}]}
		],
	"charts": [
		{"category":"GPU", "title":"i915 gpu freq (MHz)",  "var_name": "freq", "by_var":"gpu", "chart_tag":"GPU_FREQ",
			"chart_type":"line", "use_chart":"d"}
		]
	}
  },
  {"event":
	{
	"evt_name": "CSwitch", "evt_type": "ETW", "comment":"CSwitch,  TimeStamp, New Process Name ( PID),    New TID, NPri, NQnt, TmSinceLast, WaitTime, Old Process Name ( PID),    Old TID, OPri, OQnt,        OldState,      Wait Reason, Swapable, InSwitchTime, CPU, IdealProc,  OldRemQnt, NewPriDecr, PrevCState",
	"evt_flds": [
		{"name":"comm_pid", "lkup": "Old Process Name ( PID)", "lkup_typ": "TYP_ETW_COMM_PID|TYP_STR"},
		{"name":"tid",      "lkup": "Old TID",  "lkup_typ": "TYP_TID|TYP_INT"},
		{"name":"cpu",      "lkup": "CPU",      "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"proc",     "lkup": "",         "lkup_typ": "TYP_COMM_PID_TID|TYP_STR"},
		{"name":"pid",      "lkup": "",         "lkup_typ": "TYP_PID|TYP_INT"},
		{"name":"dura",     "lkup": "",         "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_DURATION_BEF|TYP_DBL"},
		{"name":"cpu_busy", "lkup": "",         "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_DBL"},
		{"name":"%busy_sys","lkup": "",         "lkup_typ": "TYP_TM_CHG_BY_CPU|TYP_EXCL_PID_0|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"mult", "val":100.0}]}
		],
	"charts": [
		{"category":"CPU", "title":"cpu busy",  "var_name": "cpu_busy", "by_var": "cpu", "chart_tag":"PCT_BUSY_BY_CPU", "chart_type":"block",
			"use_chart":"d"},
		{"category":"CPU", "title":"%busy system",  "var_name": "%busy_sys", "by_var":"cpu", "chart_tag":"PCT_BUSY_BY_SYSTEM",
			"chart_type":"line", "use_chart":"d", "y_fmt":"%.1f%%", "tot_line":"__total__"},
		{"category":"CPU", "title":"%busy by proc",  "var_name": "%busy_sys", "by_var":"comm_pid", "chart_tag":"PCT_BUSY_BY_proc",
			"chart_type":"line", "tot_line":"__total__",
			"use_chart":"y", "y_fmt":"%.1f%%", "comment":"if you use type=stacked then this chart can use a lot of memory"}
		]
	}
  },
  {"event":
	{
	"evt_name": "CSwitch", "evt_type": "ETW", "comment":"CSwitch,  TimeStamp, New Process Name ( PID),    New TID, NPri, NQnt, TmSinceLast, WaitTime, Old Process Name ( PID),    Old TID, OPri, OQnt,        OldState,      Wait Reason, Swapable, InSwitchTime, CPU, IdealProc,  OldRemQnt, NewPriDecr, PrevCState",
	"evt_flds": [
		{"name":"ncomm_pid","lkup": "New Process Name ( PID)", "lkup_typ": "TYP_ETW_COMM_PID|TYP_STR"},
		{"name":"ntid",     "lkup": "New TID",  "lkup_typ": "TYP_TID|TYP_INT"},
		{"name":"pid",      "lkup": "",         "lkup_typ": "TYP_PID|TYP_INT"},
		{"name":"nproc",    "lkup": "",         "lkup_typ": "TYP_BY_VAR0|TYP_COMM_PID_TID|TYP_STR"},
		{"name":"comm_pid", "lkup": "Old Process Name ( PID)", "lkup_typ": "TYP_ETW_COMM_PID2|TYP_STR"},
		{"name":"proc",     "lkup": "",         "lkup_typ": "TYP_BY_VAR1|TYP_COMM_PID_TID2|TYP_STR"},
		{"name":"tid",      "lkup": "Old TID",  "lkup_typ": "TYP_TID2|TYP_INT"},
		{"name":"state",    "lkup": "OldState", "lkup_typ": "TYP_STR|TYP_CSW_STATE"},
		{"name":"reason",   "lkup": "Wait Reason", "lkup_typ": "TYP_STR|TYP_CSW_REASON"},
		{"name":"lag_state","lkup": "",        "lkup_typ": "TYP_STR|TYP_LAG|TYP_CSW_STATE", "lag_prev_by_var_using_fld":{"name":"state", "by_var":1}},
		{"name":"lag_reason","lkup": "",        "lkup_typ": "TYP_STR|TYP_LAG|TYP_CSW_REASON", "lag_prev_by_var_using_fld":{"name":"reason", "by_var":1}},
		{"name":"cpu",      "lkup": "CPU",      "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"wait_dura","lkup": "",         "lkup_typ": "TYP_DBL", "diff_ts_with_ts_of_prev_by_var_using_fld":"proc"}
		],
	"charts": [
		{"category":"CPU", "title":"wait time by thread",  "var_name": "wait_dura", "by_var":"nproc",
			"chart_tag":"WAIT_TIME_BY_proc", "chart_type":"line", "use_chart":"d"},
		{"category":"CPU", "title":"Run queue by thread",  "var_name": "wait_dura", "by_var":"nproc",
			"chart_tag":"RUN_QUEUE", "chart_type":"line", "use_chart":"y", "tot_line":"__total__"}
		]
	}
  },
  {"event":
	{
	"evt_name": "Mark", "evt_type": "ETW",
	"evt_flds": [
		{"name":"marker",  "lkup": "Mark", "lkup_typ": "TYP_ADD_2_EXTRA|TYP_STR"},
		{"name":"dura",  "lkup": "", "lkup_typ": "TYP_DURATION_BEF|TYP_DBL", "actions":[{"oper":"replace_any", "val":1.0e-6}]}
		],
	"charts": [
		{"category":"PERF", "title":"Markers",  "var_name":"marker",
			"chart_tag":"MARKERS", "chart_type":"line", "marker":{"type":"square", "size":"10", "connect":"y"},
			"use_chart":"y", "y_label":"markers"}
		]
	}
  },
  {"event":
	{
	"evt_name": "DiskRead", "evt_type": "ETW",
	"evt_flds": [
		{"name":"comm_pid",  "lkup": "Process Name ( PID)", "lkup_typ": "TYP_ETW_COMM_PID|TYP_STR"},
		{"name":"tid",       "lkup": "ThreadID", "lkup_typ": "TYP_TID|TYP_INT"},
		{"name":"cpu",   "lkup": "CPU", "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"proc",  "lkup": "", "lkup_typ": "TYP_COMM_PID_TID|TYP_STR"},
		{"name":"pid",   "lkup": "", "lkup_typ": "TYP_PID|TYP_INT"},
		{"name":"dura",  "lkup": "ElapsedTime", "lkup_typ": "TYP_DURATION_BEF|TYP_DBL", "actions":[{"oper":"mult", "val":0.000001}]},
		{"name":"Disk MB/s", "lkup": "IOSize", "lkup_typ": "TYP_DIV_BY_INTERVAL|TYP_HEX_IN|TYP_DBL",  "actions":[{"oper":"mult", "val":1.0e-6}]}
		],
	"charts": [
		{"category":"Disk", "title":"Disk read BW (MiB/sec) by Process",  "var_name":"Disk MB/s",
			"by_var": "comm_pid", "chart_tag":"DISK_MBPS_READ", "chart_type":"stacked",
			"use_chart":"y", "y_label":"MiB/sec", "tot_line":"__total__"},
		{"category":"Disk", "title":"Disk read svc time by Process",  "var_name":"dura", "by_var": "comm_pid",
			"chart_tag":"DISK_RD_SVCTM", "chart_type":"stacked", "use_chart":"d", "y_label":"SVC time (secs)", "tot_line":"__total__"}
		]
	}
  },
  {"event":
	{
	"evt_name": "DiskWrite", "evt_type": "ETW",
	"evt_flds": [
		{"name":"comm_pid",  "lkup": "Process Name ( PID)", "lkup_typ": "TYP_ETW_COMM_PID|TYP_STR"},
		{"name":"tid",       "lkup": "ThreadID", "lkup_typ": "TYP_TID|TYP_INT"},
		{"name":"cpu",   "lkup": "CPU", "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"proc",  "lkup": "", "lkup_typ": "TYP_COMM_PID_TID|TYP_STR"},
		{"name":"pid",   "lkup": "", "lkup_typ": "TYP_PID|TYP_INT"},
		{"name":"dura",  "lkup": "ElapsedTime", "lkup_typ": "TYP_DURATION_BEF|TYP_DBL", "actions":[{"oper":"mult", "val":0.000001}]},
		{"name":"Disk MB/s", "lkup": "IOSize", "lkup_typ": "TYP_DIV_BY_INTERVAL|TYP_HEX_IN|TYP_DBL",  "actions":[{"oper":"mult", "val":1.0e-6}]}
		],
	"charts": [
		{"category":"Disk", "title":"Disk write BW (MiB/sec) by Process",  "var_name":"Disk MB/s",
			"by_var": "comm_pid", "chart_tag":"DISK_MBPS_WRITE", "y_label":"MiB/sec", "chart_type":"stacked",
			"use_chart":"d", "tot_line":"__total__"},
		{"category":"Disk", "title":"Disk write svc time by Process",  "var_name":"dura",
			"by_var": "comm_pid", "chart_tag":"DISK_WR_SVCTM", "chart_type":"stacked",
			"use_chart":"d", "y_label":"SVC time (secs)", "tot_line":"__total__"}
		]
	}
  },
  {"event":
	{
	"evt_name": "SampledProfile", "evt_type": "ETW",
	"evt_flds": [
		{"name":"comm_pid",  "lkup": "Process Name ( PID)", "lkup_typ": "TYP_ETW_COMM_PID|TYP_STR"},
		{"name":"tid",       "lkup": "ThreadID", "lkup_typ": "TYP_TID|TYP_INT"},
		{"name":"cpu",   "lkup": "CPU", "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"proc",  "lkup": "", "lkup_typ": "TYP_COMM_PID_TID|TYP_STR"},
		{"name":"pid",   "lkup": "", "lkup_typ": "TYP_PID|TYP_INT"},
		{"name":"dura",  "lkup": "", "lkup_typ": "TYP_DURATION_BEF|TYP_DIV_BY_INTERVAL|TYP_DBL", "actions":[{"oper":"add", "val":0.001}]}
		],
	"charts": [
		{"category":"CPU", "title":"%Busy sampledProfile by Process",  "var_name":"dura", "by_var": "comm_pid",
			"chart_tag":"DISK_BUSY_SMPLD", "chart_type":"stacked",
			"use_chart":"d", "y_fmt":"%.1f%%", "actions":[{"oper":"mult", "val":100.0}], "tot_line":"__total__"}
		]
	}
  }
	,
  {"event":
	{
	"evt_name": "Microsoft-Windows-Win32k/MessageCheckDelay/win:Info", "evt_type": "ETW",
	"evt_flds": [
		{"name":"comm_pid",  "lkup": "Process Name ( PID)", "lkup_typ": "TYP_ETW_COMM_PID|TYP_STR"},
		{"name":"tid",       "lkup": "ThreadID", "lkup_typ": "TYP_TID|TYP_INT"},
		{"name":"cpu",   "lkup": "CPU", "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"proc",  "lkup": "", "lkup_typ": "TYP_COMM_PID_TID|TYP_STR"},
		{"name":"pid",   "lkup": "", "lkup_typ": "TYP_PID|TYP_INT"},
		{"name":"dura",  "lkup": "DelayTimeMs", "lkup_typ": "TYP_DURATION_BEF|TYP_DBL", "actions":[{"oper":"mult", "val":0.001}]},
		{"name":"delay",  "lkup": "DelayTimeMs", "lkup_typ": "TYP_DBL", "actions":[{"oper":"mult", "val":0.001}]}
		],
	"charts": [
		{"category":"UI", "title":"GUI thread delay by Process",  "var_name":"delay", "by_var": "proc",
			"chart_tag":"UI_MSG_CK_DELAY", "chart_type":"line", "use_chart":"d"}
		]
	}
  }
	,
  {"event":
	{
	"evt_name":"Microsoft-Windows-Win32k/InputDeviceRead",
	"evt_type": "ETW",
	"evt_derived":{
		"evts_used":["Microsoft-Windows-Win32k/InputDeviceRead/win:Start", "Microsoft-Windows-Win32k/InputDeviceRead/win:Stop"],
		"evt_trigger":"Microsoft-Windows-Win32k/InputDeviceRead/win:Stop",
		"new_cols":["duration"],
		"lua_file":"etw_InputDeviceRead.lua",
		"lua_rtn":"InputDeviceRead"
	},
	"comment":"Microsoft-Windows-Win32k/InputDeviceRead/win:Start,  TimeStamp,     Process Name ( PID),   ThreadID, CPU, etw:ActivityId, etw:Related ActivityId, etw:UserSid, etw:SessionId, DeviceType, dwFlags",
	"evt_flds": [
		{"name":"comm_pid",  "lkup": "Process Name ( PID)", "lkup_typ": "TYP_ETW_COMM_PID|TYP_STR"},
		{"name":"tid",       "lkup": "ThreadID", "lkup_typ": "TYP_TID|TYP_INT"},
		{"name":"cpu",   "lkup": "CPU", "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"proc",  "lkup": "", "lkup_typ": "TYP_COMM_PID_TID|TYP_STR"},
		{"name":"pid",   "lkup": "", "lkup_typ": "TYP_PID|TYP_INT"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DURATION_BEF|TYP_DBL", "actions":[{"oper":"mult", "val":0.000001}]}
		],
	"charts": [
		{"category":"UI", "title":"GUI InputDeviceRead by Process",  "var_name":"dura", "by_var": "proc",
			"chart_tag":"UI_INPUT_READ", "chart_type":"line", "use_chart":"d"}
		]
	}
  }
	,
  {"event":
	{
	"evt_name": "Focus", "evt_type": "ETW",
	"evt_derived":{
		"evts_used":["FocusChange"],
		"evt_trigger":"FocusChange",
		"new_cols":["duration"],
		"lua_file":"etw_tm_since_prev_evt.lua",
		"lua_rtn":"etw_tm_since_prev_evt"
	},
	"evt_flds": [
		{"name":"comm_pid", "lkup": "Old Process Name ( PID)", "lkup_typ": "TYP_STR"},
		{"name":"duration",  "lkup": "duration", "lkup_typ": "TYP_DURATION_BEF|TYP_DBL", "actions":[{"oper":"mult", "val":0.000001}]}
		],
	"charts": [
		{"category":"UI", "title":"FocusChange by Process",  "var_name": "duration", "by_var": "comm_pid",
			"chart_tag":"FOCUS_CHG_BY_PROC", "chart_type":"line", "use_chart":"d"}
		]
	}
  }
	,
  {"event":
	{
	"evt_name":"Microsoft-Windows-Win32k/GUIThread",
	"evt_type": "ETW",
	"evt_derived":{
		"evts_used":["Microsoft-Windows-Win32k/GUIThread/win:Start", "Microsoft-Windows-Win32k/GUIThread/win:Stop"],
		"evt_trigger":"Microsoft-Windows-Win32k/GUIThread/win:Stop",
		"new_cols":["duration"],
		"lua_file":"etw_InputDeviceRead.lua",
		"lua_rtn":"InputDeviceRead"
	},
	"comment":"Microsoft-Windows-Win32k/GUIThread/win:Start,  TimeStamp,     Process Name ( PID),   ThreadID, CPU, etw:ActivityId, etw:Related ActivityId, etw:UserSid, etw:SessionId, DeviceType, dwFlags",
	"evt_flds": [
		{"name":"comm_pid",  "lkup": "Process Name ( PID)", "lkup_typ": "TYP_ETW_COMM_PID|TYP_STR"},
		{"name":"tid",       "lkup": "ThreadID", "lkup_typ": "TYP_TID|TYP_INT"},
		{"name":"cpu",   "lkup": "CPU", "lkup_typ": "TYP_SYS_CPU|TYP_INT"},
		{"name":"proc",  "lkup": "", "lkup_typ": "TYP_COMM_PID_TID|TYP_STR"},
		{"name":"pid",   "lkup": "", "lkup_typ": "TYP_PID|TYP_INT"},
		{"name":"dura",  "lkup": "duration", "lkup_typ": "TYP_DURATION_BEF|TYP_DBL", "actions":[{"oper":"mult", "val":0.000001}]}
		],
	"charts": [
		{"category":"UI", "title":"GUI GUIThread by Process",  "var_name":"dura", "by_var": "proc",
			"chart_tag":"UI_INPUT_READ", "chart_type":"line", "use_chart":"d"}
		]
	}
  }
	,
  {"event":
	{
	"evt_name": "lua:mem_bw", "evt_type": "lua", "comment":"read spin.txt file",
	"evt_flds": [
		{"name":"timestamp", "lkup":"_TIMESTAMP_", "lkup_typ": "TYP_TIMESTAMP|TYP_DBL"},
		{"name":"val",     "lkup":"val",         "lkup_typ": "TYP_DBL"},
		{"name":"area",     "lkup":"area",       "lkup_typ": "TYP_STR"},
		{"name":"dura",      "lkup":"_DURATION_",  "lkup_typ": "TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"PERF", "title":"spin mem bw",  "var_name": "val", "by_var":"area", "chart_tag":"SPIN_MEM_BW",
			"chart_type":"line", "use_chart":"y", "y_label":"GB/sec", "tot_line":"__total__",
			"tot_line_options":{ "yval_fmt":"%.1f", "yvar_fmt":"core%d",
			"desc":"Based on data from spin.txt file"}
		}
		]
	}
  }
	,
  {"event":
	{
	"evt_name": "lua:pcm_event", "evt_type": "lua", "comment":"read PCM csv file",
	"evt_flds": [
		{"name":"timestamp", "lkup":"_TIMESTAMP_", "lkup_typ": "TYP_TIMESTAMP|TYP_DBL"},
		{"name":"val",     "lkup":"val",         "lkup_typ": "TYP_DBL"},
		{"name":"area",     "lkup":"area",       "lkup_typ": "TYP_STR"},
		{"name":"dura",      "lkup":"_DURATION_",  "lkup_typ": "TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"CPU", "title":"PCM MPI",  "var_name": "val", "by_var":"area", "chart_tag":"PCM_MPI", "chart_type":"line",
			"use_chart":"y", "y_label":"MPI", "actions":[{"oper":"filter_regex", "str":"area", "str1":"(.*MPI)"}]}
		,
		{"category":"CPU", "title":"PCM FREQs",  "var_name": "val", "by_var":"area", "chart_tag":"PCM_FREQ", "chart_type":"line",
			"use_chart":"y", "y_label":"Freq GHz", "actions":[{"oper":"filter_regex", "str":"area", "str1":"(.*FREQ.*)"}]}
		,
		{"category":"CPU", "title":"PCM Memory READ/WRITE (GB/sec)",  "var_name": "val", "by_var":"area",
			"chart_tag":"PCM_READ_WRITE", "chart_type":"line",
			"use_chart":"y", "y_label":"GB/sec", "actions":[{"oper":"filter_regex", "str":"area", "str1":"(.*READ|.*WRITE)"}]}
		,
		{"category":"CPU", "title":"PCM MISSes and HITs",  "var_name": "val", "by_var":"area", "chart_tag":"PCM_MISS_HIT",
			"chart_type":"line",
			"use_chart":"y", "y_label":"Misses, Hits", "actions":[{"oper":"filter_regex", "str":"area", "str1":"(.*MISS|.*HIT)"}]}
		,
		{"category":"CPU", "title":"PCM INST/ACYC",  "var_name": "val", "by_var":"area", "chart_tag":"PCM_INST_ACYC",
			"chart_type":"line",
			"use_chart":"y", "y_label":"INST/ACYC", "actions":[{"oper":"filter_regex", "str":"area", "str1":"(.*INST|.*ACYC)"}]}
		,
		{"category":"CPU", "title":"PCM PhysIPC% INSTnom%",  "var_name": "val", "by_var":"area",
			"chart_tag":"PCM_PhysIPCpct_INSTnomPct", "chart_type":"line",
			"use_chart":"y", "y_label":"IPC%", "y_fmt":"%.1f%%", "actions":[{"oper":"filter_regex", "str":"area",
				"str1":"(.*PhysIPC%|.*INSTnom%)"}]}
		,
		{"category":"CPU", "title":"PCM PhysIPC INSTnom",  "var_name": "val", "by_var":"area", "chart_tag":"PCM_PhysIPC_INSTnom",
			"chart_type":"line",
			"use_chart":"y", "y_label":"IPC", "actions":[{"oper":"filter_regex", "str":"area", "str1":"(.*PhysIPC|.*INSTnom)"}]}
		,
		{"category":"CPU", "title":"PCM EXEC (instr/nominal CPU cycle) and IPC",  "var_name": "val", "by_var":"area",
			"chart_tag":"PCM_EXEC_IPC", "chart_type":"line",
			"use_chart":"y", "y_label":"IPC", "actions":[{"oper":"filter_regex", "str":"area", "str1":"(.*EXEC|.*IPC)"}]}
		,
		{"category":"CPU", "title":"PCM TEMP deg C below Tjmax",  "var_name": "val", "by_var":"area", "chart_tag":"PCM_TEMP",
			"chart_type":"line",
			"use_chart":"y", "y_label":"deg C below TJmax", "actions":[{"oper":"filter_regex", "str":"area", "str1":"(.*TEMP)"}]}
		,
		{"category":"power", "title":"PCM CORE_CSTATES %resident",  "var_name": "val", "by_var":"area",
			"chart_tag":"PCM_CORE_CSTATES", "chart_type":"line",
			"use_chart":"y", "y_label":"%resident", "y_fmt":"%.1f%%", "actions":[{"oper":"filter_regex", "str":"area",
				"str1":"(.*System Core C-States.*)"}]}
		,
		{"category":"power", "title":"PCM PKG C-States %resident",  "var_name": "val", "by_var":"area",
			"chart_tag":"PCM_PKG_CSTATES", "chart_type":"line",
			"use_chart":"y", "y_label":"%resident", "y_fmt":"%.1f%%", "actions":[{"oper":"filter_regex", "str":"area",
				"str1":"(.*System Pack C-States.*%)"}]}
		,
		{"category":"power", "title":"PCM PKG Watts",  "var_name": "val", "by_var":"area", "chart_tag":"PCM_PKG_ENERGY",
			"chart_type":"line",
			"use_chart":"y", "y_label":"PKG Watts", "y_fmt":"%.2fW", "actions":[{"oper":"filter_regex", "str":"area",
			"str1":"(.*Proc Energy .Joules..*)"}]}
		]
	}
  }
	,
  {"event":
	{
	"evt_name": "lua:gen_line1", "evt_type": "lua", "comment":"read perf stat file for rapl energy MSRs",
	"evt_flds": [
		{"name":"timestamp", "lkup":"_TIMESTAMP_", "lkup_typ": "TYP_TIMESTAMP|TYP_DBL"},
		{"name":"line",     "lkup":"line",       "lkup_typ": "TYP_DBL"},
		{"name":"area",     "lkup":"area",       "lkup_typ": "TYP_STR"},
		{"name":"dura",      "lkup":"_DURATION_",  "lkup_typ": "TYP_DURATION_BEF|TYP_DBL"}
		],
	"charts": [
		{"category":"test", "title":"first test line",  "var_name": "line", "by_var":"area", "chart_tag":"TST_GEN_LINE1", "chart_type":"line",
			"use_chart":"y"}
		]
	}
  }
]
	,
	"ETW_events_to_skip":[
"UnknownEvent/Classic",
"InvalidEvent/Classic",
"UnknownEvent/Crimson",
"InvalidEvent/Crimson",
"GroupMasks",
"GroupMasksEnd",
"EtwInternalVersion",
"BuildInfo",
"SystemPaths",
"UnknownVolume",
"VolumeMapping",
"LogicalDisk",
"MachineId",
"FirstReliableEventTimeStamp",
"FirstReliableCSwitchEventTimeStamp",
"P-Start",
"P-End",
"P-DCStart",
"P-DCEnd",
"P-Zombie",
"T-Start",
"T-End",
"T-DCStart",
"T-DCEnd",
"I-Start",
"I-End",
"I-DCStart",
"I-DCEnd",
"ImageLoadDependence",
"VirtualAlloc",
"VirtualFree",
"VirtualAllocDCStart",
"VirtualAllocDCEnd",
"MapFile",
"UnmapFile",
"MapFileDCStart",
"MapFileDCEnd",
"SessionCreate",
"SessionRundownDCEnd",
"SessionRundownDCStart",
"SessionDelete",
"GrowKernelStack",
"T-GUI",
"HeapRangeRundown",
"HeapCreateRange",
"HeapRangeReserve",
"HeapRangeRelease",
"HeapRangeDestroy",
"HeapCreateRundown",
"KernelDebugEvent",
"NetworkInterface",
"ImageId",
"DbgId/None",
"DbgId/Bin",
"DbgId/Dbg",
"DbgId/NB10",
"DbgId/RSDS",
"DbgId/ILRSDS",
"FileVersion",
"WinSAT_Metrics",
"WinSAT_WinSPR"
		]
}

